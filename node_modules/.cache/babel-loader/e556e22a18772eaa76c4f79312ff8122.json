{"ast":null,"code":"/*!\n * froala_editor v3.0.0-rc.1 (https://www.froala.com/wysiwyg-editor)\n * License https://froala.com/wysiwyg-editor/terms/\n * Copyright 2014-2019 Froala Labs\n */\n!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? t(require(\"froala-editor\")) : \"function\" == typeof define && define.amd ? define([\"froala-editor\"], t) : t(e.FroalaEditor);\n}(this, function (ye) {\n  \"use strict\";\n\n  function we(e) {\n    return (we = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n      return typeof e;\n    } : function (e) {\n      return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n    })(e);\n  }\n\n  ye = ye && ye.hasOwnProperty(\"default\") ? ye[\"default\"] : ye, Object.assign(ye.POPUP_TEMPLATES, {\n    \"image.insert\": \"[_BUTTONS_][_UPLOAD_LAYER_][_BY_URL_LAYER_][_PROGRESS_BAR_]\",\n    \"image.edit\": \"[_BUTTONS_]\",\n    \"image.alt\": \"[_BUTTONS_][_ALT_LAYER_]\",\n    \"image.size\": \"[_BUTTONS_][_SIZE_LAYER_]\"\n  }), Object.assign(ye.DEFAULTS, {\n    imageInsertButtons: [\"imageBack\", \"|\", \"imageUpload\", \"imageByURL\"],\n    imageEditButtons: [\"imageReplace\", \"imageAlign\", \"imageCaption\", \"imageRemove\", \"imageLink\", \"linkOpen\", \"linkEdit\", \"linkRemove\", \"-\", \"imageDisplay\", \"imageStyle\", \"imageAlt\", \"imageSize\"],\n    imageAltButtons: [\"imageBack\", \"|\"],\n    imageSizeButtons: [\"imageBack\", \"|\"],\n    imageUpload: !0,\n    imageUploadURL: null,\n    imageCORSProxy: \"https://cors-anywhere.froala.com\",\n    imageUploadRemoteUrls: !0,\n    imageUploadParam: \"file\",\n    imageUploadParams: {},\n    imageUploadToS3: !1,\n    imageUploadMethod: \"POST\",\n    imageMaxSize: 10485760,\n    imageAllowedTypes: [\"jpeg\", \"jpg\", \"png\", \"gif\", \"webp\"],\n    imageResize: !0,\n    imageResizeWithPercent: !1,\n    imageRoundPercent: !1,\n    imageDefaultWidth: 300,\n    imageDefaultAlign: \"center\",\n    imageDefaultDisplay: \"block\",\n    imageSplitHTML: !1,\n    imageStyles: {\n      \"fr-rounded\": \"Rounded\",\n      \"fr-bordered\": \"Bordered\",\n      \"fr-shadow\": \"Shadow\"\n    },\n    imageMove: !0,\n    imageMultipleStyles: !0,\n    imageTextNear: !0,\n    imagePaste: !0,\n    imagePasteProcess: !1,\n    imageMinWidth: 16,\n    imageOutputSize: !1,\n    imageDefaultMargin: 5,\n    imageAddNewLine: !1\n  }), ye.PLUGINS.image = function (g) {\n    var d,\n        l,\n        f,\n        p,\n        o,\n        a,\n        c = g.$,\n        m = \"https://i.froala.com/upload\",\n        t = !1,\n        i = 1,\n        u = 2,\n        h = 3,\n        v = 4,\n        b = 5,\n        y = 6,\n        r = {};\n\n    function w() {\n      var e = g.popups.get(\"image.insert\").find(\".fr-image-by-url-layer input\");\n      e.val(\"\"), d && e.val(d.attr(\"src\")), e.trigger(\"change\");\n    }\n\n    function n() {\n      var e = g.popups.get(\"image.edit\");\n\n      if (e || (e = $()), e) {\n        var t = ve();\n        be() && (t = t.find(\".fr-img-wrap\")), g.popups.setContainer(\"image.edit\", g.$sc), g.popups.refresh(\"image.edit\");\n        var a = t.offset().left + t.outerWidth() / 2,\n            i = t.offset().top + t.outerHeight();\n        d.hasClass(\"fr-uploading\") ? I() : g.popups.show(\"image.edit\", a, i, t.outerHeight(), !0);\n      }\n    }\n\n    function C() {\n      k();\n    }\n\n    function e() {\n      for (var e, t, a = \"IMG\" == g.el.tagName ? [g.el] : g.el.querySelectorAll(\"img\"), i = 0; i < a.length; i++) {\n        var r = c(a[i]);\n        !g.opts.htmlUntouched && g.opts.useClasses ? ((g.opts.imageDefaultAlign || g.opts.imageDefaultDisplay) && (0 < (t = r).parents(\".fr-img-caption\").length && (t = t.parents(\".fr-img-caption\").first()), t.hasClass(\"fr-dii\") || t.hasClass(\"fr-dib\") || (t.addClass(\"fr-fi\" + de(t)[0]), t.addClass(\"fr-di\" + ce(t)[0]), t.css(\"margin\", \"\"), t.css(\"float\", \"\"), t.css(\"display\", \"\"), t.css(\"z-index\", \"\"), t.css(\"position\", \"\"), t.css(\"overflow\", \"\"), t.css(\"vertical-align\", \"\"))), g.opts.imageTextNear || (0 < r.parents(\".fr-img-caption\").length ? r.parents(\".fr-img-caption\").first().removeClass(\"fr-dii\").addClass(\"fr-dib\") : r.removeClass(\"fr-dii\").addClass(\"fr-dib\"))) : g.opts.htmlUntouched || g.opts.useClasses || (g.opts.imageDefaultAlign || g.opts.imageDefaultDisplay) && (0 < (e = r).parents(\".fr-img-caption\").length && (e = e.parents(\".fr-img-caption\").first()), ge(e, e.hasClass(\"fr-dib\") ? \"block\" : e.hasClass(\"fr-dii\") ? \"inline\" : null, e.hasClass(\"fr-fil\") ? \"left\" : e.hasClass(\"fr-fir\") ? \"right\" : de(e)), e.removeClass(\"fr-dib fr-dii fr-fir fr-fil\")), g.opts.iframe && r.on(\"load\", g.size.syncIframe);\n      }\n    }\n\n    function A(e) {\n      void 0 === e && (e = !0);\n      var t,\n          a = Array.prototype.slice.call(g.el.querySelectorAll(\"img\")),\n          i = [];\n\n      for (t = 0; t < a.length; t++) {\n        if (i.push(a[t].getAttribute(\"src\")), c(a[t]).toggleClass(\"fr-draggable\", g.opts.imageMove), \"\" === a[t].getAttribute(\"class\") && a[t].removeAttribute(\"class\"), \"\" === a[t].getAttribute(\"style\") && a[t].removeAttribute(\"style\"), a[t].parentNode && a[t].parentNode.parentNode && g.node.hasClass(a[t].parentNode.parentNode, \"fr-img-caption\")) {\n          var r = a[t].parentNode.parentNode;\n          g.browser.mozilla || r.setAttribute(\"contenteditable\", !1), r.setAttribute(\"draggable\", !1), r.classList.add(\"fr-draggable\");\n          var n = a[t].nextSibling;\n          n && !g.browser.mozilla && n.setAttribute(\"contenteditable\", !0);\n        }\n      }\n\n      if (o) for (t = 0; t < o.length; t++) {\n        i.indexOf(o[t].getAttribute(\"src\")) < 0 && g.events.trigger(\"image.removed\", [c(o[t])]);\n      }\n\n      if (o && e) {\n        var s = [];\n\n        for (t = 0; t < o.length; t++) {\n          s.push(o[t].getAttribute(\"src\"));\n        }\n\n        for (t = 0; t < a.length; t++) {\n          s.indexOf(a[t].getAttribute(\"src\")) < 0 && g.events.trigger(\"image.loaded\", [c(a[t])]);\n        }\n      }\n\n      o = a;\n    }\n\n    function E() {\n      if (l || function () {\n        var e;\n        g.shared.$image_resizer ? (l = g.shared.$image_resizer, p = g.shared.$img_overlay, g.events.on(\"destroy\", function () {\n          c(\"body\").first().append(l.removeClass(\"fr-active\"));\n        }, !0)) : (g.shared.$image_resizer = c(document.createElement(\"div\")).attr(\"class\", \"fr-image-resizer\"), l = g.shared.$image_resizer, g.events.$on(l, \"mousedown\", function (e) {\n          e.stopPropagation();\n        }, !0), g.opts.imageResize && (l.append(s(\"nw\") + s(\"ne\") + s(\"sw\") + s(\"se\")), g.shared.$img_overlay = c(document.createElement(\"div\")).attr(\"class\", \"fr-image-overlay\"), p = g.shared.$img_overlay, e = l.get(0).ownerDocument, c(e).find(\"body\").first().append(p)));\n        g.events.on(\"shared.destroy\", function () {\n          l.html(\"\").removeData().remove(), l = null, g.opts.imageResize && (p.remove(), p = null);\n        }, !0), g.helpers.isMobile() || g.events.$on(c(g.o_win), \"resize\", function () {\n          d && !d.hasClass(\"fr-uploading\") ? oe(!0) : d && (E(), me(), I(!1));\n        });\n\n        if (g.opts.imageResize) {\n          e = l.get(0).ownerDocument, g.events.$on(l, g._mousedown, \".fr-handler\", R), g.events.$on(c(e), g._mousemove, D), g.events.$on(c(e.defaultView || e.parentWindow), g._mouseup, x), g.events.$on(p, \"mouseleave\", x);\n          var i = 1,\n              r = null,\n              n = 0;\n          g.events.on(\"keydown\", function (e) {\n            if (d) {\n              var t = -1 != navigator.userAgent.indexOf(\"Mac OS X\") ? e.metaKey : e.ctrlKey,\n                  a = e.which;\n              (a !== r || 200 < e.timeStamp - n) && (i = 1), (a == ye.KEYCODE.EQUALS || g.browser.mozilla && a == ye.KEYCODE.FF_EQUALS) && t && !e.altKey ? i = Q.call(this, e, 1, 1, i) : (a == ye.KEYCODE.HYPHEN || g.browser.mozilla && a == ye.KEYCODE.FF_HYPHEN) && t && !e.altKey ? i = Q.call(this, e, 2, -1, i) : g.keys.ctrlKey(e) || a != ye.KEYCODE.ENTER || (d.before(\"<br>\"), P(d)), r = a, n = e.timeStamp;\n            }\n          }, !0), g.events.on(\"keyup\", function () {\n            i = 1;\n          });\n        }\n      }(), !d) return !1;\n      var e = g.$wp || g.$sc;\n      e.append(l), l.data(\"instance\", g);\n      var t = e.scrollTop() - (\"static\" != e.css(\"position\") ? e.offset().top : 0),\n          a = e.scrollLeft() - (\"static\" != e.css(\"position\") ? e.offset().left : 0);\n      a -= g.helpers.getPX(e.css(\"border-left-width\")), t -= g.helpers.getPX(e.css(\"border-top-width\")), g.$el.is(\"img\") && g.$sc.is(\"body\") && (a = t = 0);\n      var i = ve();\n      be() && (i = i.find(\".fr-img-wrap\"));\n      var r = 0,\n          n = 0;\n      g.opts.iframe && (r = g.helpers.getPX(g.$wp.find(\".fr-iframe\").css(\"padding-top\")), n = g.helpers.getPX(g.$wp.find(\".fr-iframe\").css(\"padding-left\"))), l.css(\"top\", (g.opts.iframe ? i.offset().top + r : i.offset().top + t) - 1).css(\"left\", (g.opts.iframe ? i.offset().left + n : i.offset().left + a) - 1).css(\"width\", i.get(0).getBoundingClientRect().width).css(\"height\", i.get(0).getBoundingClientRect().height).addClass(\"fr-active\");\n    }\n\n    function s(e) {\n      return '<div class=\"fr-handler fr-h' + e + '\"></div>';\n    }\n\n    function S(e) {\n      be() ? d.parents(\".fr-img-caption\").css(\"width\", e) : d.css(\"width\", e);\n    }\n\n    function R(e) {\n      if (!g.core.sameInstance(l)) return !0;\n      if (e.preventDefault(), e.stopPropagation(), g.$el.find(\"img.fr-error\").left) return !1;\n      g.undo.canDo() || g.undo.saveStep();\n      var t = e.pageX || e.originalEvent.touches[0].pageX;\n\n      if (\"mousedown\" == e.type) {\n        var a = g.$oel.get(0).ownerDocument,\n            i = a.defaultView || a.parentWindow,\n            r = !1;\n\n        try {\n          r = i.location != i.parent.location && !(i.$ && i.$.FE);\n        } catch (o) {}\n\n        r && i.frameElement && (t += g.helpers.getPX(c(i.frameElement).offset().left) + i.frameElement.clientLeft);\n      }\n\n      (f = c(this)).data(\"start-x\", t), f.data(\"start-width\", d.width()), f.data(\"start-height\", d.height());\n      var n = d.width();\n\n      if (g.opts.imageResizeWithPercent) {\n        var s = d.parentsUntil(g.$el, g.html.blockTagsQuery()).get(0) || g.el;\n        n = (n / c(s).outerWidth() * 100).toFixed(2) + \"%\";\n      }\n\n      S(n), p.show(), g.popups.hideAll(), pe();\n    }\n\n    function D(e) {\n      if (!g.core.sameInstance(l)) return !0;\n      var t;\n\n      if (f && d) {\n        if (e.preventDefault(), g.$el.find(\"img.fr-error\").left) return !1;\n        var a = e.pageX || (e.originalEvent.touches ? e.originalEvent.touches[0].pageX : null);\n        if (!a) return !1;\n        var i = a - f.data(\"start-x\"),\n            r = f.data(\"start-width\");\n\n        if ((f.hasClass(\"fr-hnw\") || f.hasClass(\"fr-hsw\")) && (i = 0 - i), g.opts.imageResizeWithPercent) {\n          var n = d.parentsUntil(g.$el, g.html.blockTagsQuery()).get(0) || g.el;\n          r = ((r + i) / c(n).outerWidth() * 100).toFixed(2), g.opts.imageRoundPercent && (r = Math.round(r)), S(r + \"%\"), (t = be() ? (g.helpers.getPX(d.parents(\".fr-img-caption\").css(\"width\")) / c(n).outerWidth() * 100).toFixed(2) : (g.helpers.getPX(d.css(\"width\")) / c(n).outerWidth() * 100).toFixed(2)) === r || g.opts.imageRoundPercent || S(t + \"%\"), d.css(\"height\", \"\").removeAttr(\"height\");\n        } else r + i >= g.opts.imageMinWidth && (S(r + i), t = be() ? g.helpers.getPX(d.parents(\".fr-img-caption\").css(\"width\")) : g.helpers.getPX(d.css(\"width\"))), t !== r + i && S(t), ((d.attr(\"style\") || \"\").match(/(^height:)|(; *height:)/) || d.attr(\"height\")) && (d.css(\"height\", f.data(\"start-height\") * d.width() / f.data(\"start-width\")), d.removeAttr(\"height\"));\n\n        E(), g.events.trigger(\"image.resize\", [he()]);\n      }\n    }\n\n    function x(e) {\n      if (!g.core.sameInstance(l)) return !0;\n\n      if (f && d) {\n        if (e && e.stopPropagation(), g.$el.find(\"img.fr-error\").left) return !1;\n        f = null, p.hide(), E(), n(), g.undo.saveStep(), g.events.trigger(\"image.resizeEnd\", [he()]);\n      }\n    }\n\n    function U(e, t, a) {\n      g.edit.on(), d && d.addClass(\"fr-error\"), function (e) {\n        I();\n        var t = g.popups.get(\"image.insert\").find(\".fr-image-progress-bar-layer\");\n        t.addClass(\"fr-error\");\n        var a = t.find(\"h3\");\n        a.text(e), g.events.disableBlur(), a.focus();\n      }(g.language.translate(\"Something went wrong. Please try again.\")), !d && a && J(a), g.events.trigger(\"image.error\", [{\n        code: e,\n        message: r[e]\n      }, t, a]);\n    }\n\n    function $(e) {\n      if (e) return g.$wp && g.events.$on(g.$wp, \"scroll.image-edit\", function () {\n        d && g.popups.isVisible(\"image.edit\") && (g.events.disableBlur(), n());\n      }), !0;\n      var t = \"\";\n\n      if (0 < g.opts.imageEditButtons.length) {\n        var a = {\n          buttons: t += '<div class=\"fr-buttons\"> \\n        '.concat(g.button.buildList(g.opts.imageEditButtons), \"\\n        </div>\")\n        };\n        return g.popups.create(\"image.edit\", a);\n      }\n\n      return !1;\n    }\n\n    function I(e) {\n      var t = g.popups.get(\"image.insert\");\n\n      if (t || (t = G()), t.find(\".fr-layer.fr-active\").removeClass(\"fr-active\").addClass(\"fr-pactive\"), t.find(\".fr-image-progress-bar-layer\").addClass(\"fr-active\"), t.find(\".fr-buttons\").hide(), d) {\n        var a = ve();\n        g.popups.setContainer(\"image.insert\", g.$sc);\n        var i = a.offset().left,\n            r = a.offset().top + a.height();\n        g.popups.show(\"image.insert\", i, r, a.outerHeight());\n      }\n\n      void 0 === e && N(g.language.translate(\"Uploading\"), 0);\n    }\n\n    function k(e) {\n      var t = g.popups.get(\"image.insert\");\n\n      if (t && (t.find(\".fr-layer.fr-pactive\").addClass(\"fr-active\").removeClass(\"fr-pactive\"), t.find(\".fr-image-progress-bar-layer\").removeClass(\"fr-active\"), t.find(\".fr-buttons\").show(), e || g.$el.find(\"img.fr-error\").length)) {\n        if (g.events.focus(), g.$el.find(\"img.fr-error\").length && (g.$el.find(\"img.fr-error\").remove(), g.undo.saveStep(), g.undo.run(), g.undo.dropRedo()), !g.$wp && d) {\n          var a = d;\n          oe(!0), g.selection.setAfter(a.get(0)), g.selection.restore();\n        }\n\n        g.popups.hide(\"image.insert\");\n      }\n    }\n\n    function N(e, t) {\n      var a = g.popups.get(\"image.insert\");\n\n      if (a) {\n        var i = a.find(\".fr-image-progress-bar-layer\");\n        i.find(\"h3\").text(e + (t ? \" \" + t + \"%\" : \"\")), i.removeClass(\"fr-error\"), t ? (i.find(\"div\").removeClass(\"fr-indeterminate\"), i.find(\"div > span\").css(\"width\", t + \"%\")) : i.find(\"div\").addClass(\"fr-indeterminate\");\n      }\n    }\n\n    function P(e) {\n      se.call(e.get(0));\n    }\n\n    function O() {\n      var e = c(this);\n      g.popups.hide(\"image.insert\"), e.removeClass(\"fr-uploading\"), e.next().is(\"br\") && e.next().remove(), P(e), g.events.trigger(\"image.loaded\", [e]);\n    }\n\n    function B(s, e, o, l, f) {\n      g.edit.off(), N(g.language.translate(\"Loading image\")), e && (s = g.helpers.sanitizeURL(s));\n      var t = new Image();\n      t.onload = function () {\n        var e, t;\n\n        if (l) {\n          g.undo.canDo() || l.hasClass(\"fr-uploading\") || g.undo.saveStep();\n          var a = l.data(\"fr-old-src\");\n          l.data(\"fr-image-pasted\") && (a = null), g.$wp ? ((e = l.clone().removeData(\"fr-old-src\").removeClass(\"fr-uploading\").removeAttr(\"data-fr-image-pasted\")).off(\"load\"), a && l.attr(\"src\", a), l.replaceWith(e)) : e = l;\n\n          for (var i = e.get(0).attributes, r = 0; r < i.length; r++) {\n            var n = i[r];\n            0 === n.nodeName.indexOf(\"data-\") && e.removeAttr(n.nodeName);\n          }\n\n          if (void 0 !== o) for (t in o) {\n            o.hasOwnProperty(t) && \"link\" != t && e.attr(\"data-\" + t, o[t]);\n          }\n          e.on(\"load\", O), e.attr(\"src\", s), g.edit.on(), A(!1), g.undo.saveStep(), g.events.disableBlur(), g.$el.blur(), g.events.trigger(a ? \"image.replaced\" : \"image.inserted\", [e, f]);\n        } else e = M(s, o, O), A(!1), g.undo.saveStep(), g.events.disableBlur(), g.$el.blur(), g.events.trigger(\"image.inserted\", [e, f]);\n      }, t.onerror = function () {\n        U(i);\n      }, I(g.language.translate(\"Loading image\")), t.src = s;\n    }\n\n    function T(e) {\n      N(g.language.translate(\"Loading image\"));\n      var t = this.status,\n          a = this.response,\n          i = this.responseXML,\n          r = this.responseText;\n\n      try {\n        if (g.opts.imageUploadToS3) {\n          if (201 == t) {\n            var n = function (e) {\n              try {\n                var t = c(e).find(\"Location\").text(),\n                    a = c(e).find(\"Key\").text();\n                return !1 === g.events.trigger(\"image.uploadedToS3\", [t, a, e], !0) ? (g.edit.on(), !1) : t;\n              } catch (i) {\n                return U(v, e), !1;\n              }\n            }(i);\n\n            n && B(n, !1, [], e, a || i);\n          } else U(v, a || i, e);\n        } else if (200 <= t && t < 300) {\n          var s = function (e) {\n            try {\n              if (!1 === g.events.trigger(\"image.uploaded\", [e], !0)) return g.edit.on(), !1;\n              var t = JSON.parse(e);\n              return t.link ? t : (U(u, e), !1);\n            } catch (a) {\n              return U(v, e), !1;\n            }\n          }(r);\n\n          s && B(s.link, !1, s, e, a || r);\n        } else U(h, a || r, e);\n      } catch (o) {\n        U(v, a || r, e);\n      }\n    }\n\n    function _() {\n      U(v, this.response || this.responseText || this.responseXML);\n    }\n\n    function L(e) {\n      if (e.lengthComputable) {\n        var t = e.loaded / e.total * 100 | 0;\n        N(g.language.translate(\"Uploading\"), t);\n      }\n    }\n\n    function M(e, t, a) {\n      var i,\n          r = c(document.createElement(\"img\")).attr(\"src\", e);\n      if (t && void 0 !== t) for (i in t) {\n        t.hasOwnProperty(i) && \"link\" != i && (\" data-\" + i + '=\"' + t[i] + '\"', r.attr(\"data-str\" + i, t[i]));\n      }\n      var n = g.opts.imageDefaultWidth;\n      n && \"auto\" != n && (n += g.opts.imageResizeWithPercent ? \"%\" : \"px\"), r.attr(\"style\", n ? \"width: \" + n + \";\" : \"\"), ge(r, g.opts.imageDefaultDisplay, g.opts.imageDefaultAlign), r.on(\"load\", a), r.on(\"error\", a), g.edit.on(), g.events.focus(!0), g.selection.restore(), g.undo.saveStep(), g.opts.imageSplitHTML ? g.markers.split() : g.markers.insert(), g.html.wrap();\n      var s = g.$el.find(\".fr-marker\");\n      return s.length ? (s.parent().is(\"hr\") && s.parent().after(s), g.node.isLastSibling(s) && s.parent().hasClass(\"fr-deletable\") && s.insertAfter(s.parent()), s.replaceWith(r)) : g.$el.append(r), g.selection.clear(), r;\n    }\n\n    function z() {\n      g.edit.on(), k(!0);\n    }\n\n    function K(e, t) {\n      if (void 0 !== e && 0 < e.length) {\n        if (!1 === g.events.trigger(\"image.beforeUpload\", [e, t])) return !1;\n        var a,\n            i = e[0];\n        if ((null === g.opts.imageUploadURL || g.opts.imageUploadURL == m) && !g.opts.imageUploadToS3) return s = i, o = t || d, (l = new FileReader()).onload = function () {\n          var e = l.result;\n\n          if (l.result.indexOf(\"svg+xml\") < 0) {\n            for (var t = atob(l.result.split(\",\")[1]), a = [], i = 0; i < t.length; i++) {\n              a.push(t.charCodeAt(i));\n            }\n\n            e = window.URL.createObjectURL(new Blob([new Uint8Array(a)], {\n              type: s.type\n            })), g.image.insert(e, !1, null, o);\n          }\n        }, I(), l.readAsDataURL(s), !1;\n        if (i.name || (i.name = new Date().getTime() + \".\" + (i.type || \"image/jpeg\").replace(/image\\//g, \"\")), i.size > g.opts.imageMaxSize) return U(b), !1;\n        if (g.opts.imageAllowedTypes.indexOf(i.type.replace(/image\\//g, \"\")) < 0) return U(y), !1;\n\n        if (g.drag_support.formdata && (a = g.drag_support.formdata ? new FormData() : null), a) {\n          var r;\n          if (!1 !== g.opts.imageUploadToS3) for (r in a.append(\"key\", g.opts.imageUploadToS3.keyStart + new Date().getTime() + \"-\" + (i.name || \"untitled\")), a.append(\"success_action_status\", \"201\"), a.append(\"X-Requested-With\", \"xhr\"), a.append(\"Content-Type\", i.type), g.opts.imageUploadToS3.params) {\n            g.opts.imageUploadToS3.params.hasOwnProperty(r) && a.append(r, g.opts.imageUploadToS3.params[r]);\n          }\n\n          for (r in g.opts.imageUploadParams) {\n            g.opts.imageUploadParams.hasOwnProperty(r) && a.append(r, g.opts.imageUploadParams[r]);\n          }\n\n          a.append(g.opts.imageUploadParam, i, i.name);\n          var n = g.opts.imageUploadURL;\n          g.opts.imageUploadToS3 && (n = g.opts.imageUploadToS3.uploadURL ? g.opts.imageUploadToS3.uploadURL : \"https://\" + g.opts.imageUploadToS3.region + \".amazonaws.com/\" + g.opts.imageUploadToS3.bucket), function (t, a, e, r) {\n            function n() {\n              var e = c(this);\n              e.off(\"load\"), e.addClass(\"fr-uploading\"), e.next().is(\"br\") && e.next().remove(), g.placeholder.refresh(), P(e), E(), I(), g.edit.off(), t.onload = function () {\n                T.call(t, e);\n              }, t.onerror = _, t.upload.onprogress = L, t.onabort = z, c(e.off(\"abortUpload\")).on(\"abortUpload\", function () {\n                4 != t.readyState && t.abort();\n              }), t.send(a);\n            }\n\n            var s = new FileReader();\n            s.onload = function () {\n              var e = s.result;\n\n              if (s.result.indexOf(\"svg+xml\") < 0) {\n                for (var t = atob(s.result.split(\",\")[1]), a = [], i = 0; i < t.length; i++) {\n                  a.push(t.charCodeAt(i));\n                }\n\n                e = window.URL.createObjectURL(new Blob([new Uint8Array(a)], {\n                  type: \"image/jpeg\"\n                }));\n              }\n\n              r ? (r.on(\"load\", n), r.on(\"error\", function () {\n                n(), c(this).off(\"error\");\n              }), g.edit.on(), g.undo.saveStep(), r.data(\"fr-old-src\", r.attr(\"src\")), r.attr(\"src\", e)) : M(e, null, n);\n            }, s.readAsDataURL(e);\n          }(g.core.getXHR(n, g.opts.imageUploadMethod), a, i, t || d);\n        }\n      }\n\n      var s, o, l;\n    }\n\n    function Y(e) {\n      if (e.is(\"img\") && 0 < e.parents(\".fr-img-caption\").length) return e.parents(\".fr-img-caption\");\n    }\n\n    function W(e) {\n      var t = e.originalEvent.dataTransfer;\n\n      if (t && t.files && t.files.length) {\n        var a = t.files[0];\n\n        if (a && a.type && -1 !== a.type.indexOf(\"image\") && 0 <= g.opts.imageAllowedTypes.indexOf(a.type.replace(/image\\//g, \"\"))) {\n          if (!g.opts.imageUpload) return e.preventDefault(), e.stopPropagation(), !1;\n          g.markers.remove(), g.markers.insertAtPoint(e.originalEvent), g.$el.find(\".fr-marker\").replaceWith(ye.MARKERS), 0 === g.$el.find(\".fr-marker\").length && g.selection.setAtEnd(g.el), g.popups.hideAll();\n          var i = g.popups.get(\"image.insert\");\n          i || (i = G()), g.popups.setContainer(\"image.insert\", g.$sc);\n          var r = e.originalEvent.pageX,\n              n = e.originalEvent.pageY;\n\n          if (g.opts.iframe) {\n            var s = g.helpers.getPX(g.$wp.find(\".fr-iframe\").css(\"padding-top\")),\n                o = g.helpers.getPX(g.$wp.find(\".fr-iframe\").css(\"padding-left\"));\n            n += g.$iframe.offset().top + s, r += g.$iframe.offset().left + o;\n          }\n\n          return g.popups.show(\"image.insert\", r, n), I(), 0 <= g.opts.imageAllowedTypes.indexOf(a.type.replace(/image\\//g, \"\")) ? (oe(!0), K(t.files)) : U(y), e.preventDefault(), e.stopPropagation(), !1;\n        }\n      }\n    }\n\n    function G(e) {\n      if (e) return g.popups.onRefresh(\"image.insert\", w), g.popups.onHide(\"image.insert\", C), !0;\n      var t,\n          a,\n          i = \"\";\n      g.opts.imageUpload || -1 === g.opts.imageInsertButtons.indexOf(\"imageUpload\") || g.opts.imageInsertButtons.splice(g.opts.imageInsertButtons.indexOf(\"imageUpload\"), 1);\n      var r = g.button.buildList(g.opts.imageInsertButtons);\n      \"\" !== r && (i = '<div class=\"fr-buttons fr-tabs\">' + r + \"</div>\");\n      var n = g.opts.imageInsertButtons.indexOf(\"imageUpload\"),\n          s = g.opts.imageInsertButtons.indexOf(\"imageByURL\"),\n          o = \"\";\n      0 <= n && (t = \" fr-active\", 0 <= s && s < n && (t = \"\"), o = '<div class=\"fr-image-upload-layer' + t + ' fr-layer\" id=\"fr-image-upload-layer-' + g.id + '\"><strong>' + g.language.translate(\"Drop image\") + \"</strong><br>(\" + g.language.translate(\"or click\") + ')<div class=\"fr-form\"><input type=\"file\" accept=\"image/' + g.opts.imageAllowedTypes.join(\", image/\").toLowerCase() + '\" tabIndex=\"-1\" aria-labelledby=\"fr-image-upload-layer-' + g.id + '\" role=\"button\"></div></div>');\n      var l = \"\";\n      0 <= s && (t = \" fr-active\", 0 <= n && n < s && (t = \"\"), l = '<div class=\"fr-image-by-url-layer' + t + ' fr-layer\" id=\"fr-image-by-url-layer-' + g.id + '\"><div class=\"fr-input-line\"><input id=\"fr-image-by-url-layer-text-' + g.id + '\" type=\"text\" placeholder=\"http://\" tabIndex=\"1\" aria-required=\"true\"></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-submit\" data-cmd=\"imageInsertByURL\" tabIndex=\"2\" role=\"button\">' + g.language.translate(\"Insert\") + \"</button></div></div>\");\n      var f,\n          p = {\n        buttons: i,\n        upload_layer: o,\n        by_url_layer: l,\n        progress_bar: '<div class=\"fr-image-progress-bar-layer fr-layer\"><h3 tabIndex=\"-1\" class=\"fr-message\">Uploading</h3><div class=\"fr-loader\"><span class=\"fr-progress\"></span></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-dismiss\" data-cmd=\"imageDismissError\" tabIndex=\"2\" role=\"button\">OK</button></div></div>'\n      };\n      return 1 <= g.opts.imageInsertButtons.length && (a = g.popups.create(\"image.insert\", p)), g.$wp && g.events.$on(g.$wp, \"scroll\", function () {\n        d && g.popups.isVisible(\"image.insert\") && me();\n      }), f = a, g.events.$on(f, \"dragover dragenter\", \".fr-image-upload-layer\", function () {\n        return c(this).addClass(\"fr-drop\"), !1;\n      }, !0), g.events.$on(f, \"dragleave dragend\", \".fr-image-upload-layer\", function () {\n        return c(this).removeClass(\"fr-drop\"), !1;\n      }, !0), g.events.$on(f, \"drop\", \".fr-image-upload-layer\", function (e) {\n        e.preventDefault(), e.stopPropagation(), c(this).removeClass(\"fr-drop\");\n        var t = e.originalEvent.dataTransfer;\n\n        if (t && t.files) {\n          var a = f.data(\"instance\") || g;\n          a.events.disableBlur(), a.image.upload(t.files), a.events.enableBlur();\n        }\n      }, !0), g.helpers.isIOS() && g.events.$on(f, \"touchstart\", '.fr-image-upload-layer input[type=\"file\"]', function () {\n        c(this).trigger(\"click\");\n      }, !0), g.events.$on(f, \"change\", '.fr-image-upload-layer input[type=\"file\"]', function () {\n        if (this.files) {\n          var e = f.data(\"instance\") || g;\n          e.events.disableBlur(), f.find(\"input:focus\").blur(), e.events.enableBlur(), e.image.upload(this.files, d);\n        }\n\n        c(this).val(\"\");\n      }, !0), a;\n    }\n\n    function V() {\n      d && g.popups.get(\"image.alt\").find(\"input\").val(d.attr(\"alt\") || \"\").trigger(\"change\");\n    }\n\n    function H() {\n      var e = g.popups.get(\"image.alt\");\n      e || (e = X()), k(), g.popups.refresh(\"image.alt\"), g.popups.setContainer(\"image.alt\", g.$sc);\n      var t = ve();\n      be() && (t = t.find(\".fr-img-wrap\"));\n      var a = t.offset().left + t.outerWidth() / 2,\n          i = t.offset().top + t.outerHeight();\n      g.popups.show(\"image.alt\", a, i, t.outerHeight(), !0);\n    }\n\n    function X(e) {\n      if (e) return g.popups.onRefresh(\"image.alt\", V), !0;\n      var t = {\n        buttons: '<div class=\"fr-buttons fr-tabs\">' + g.button.buildList(g.opts.imageAltButtons) + \"</div>\",\n        alt_layer: '<div class=\"fr-image-alt-layer fr-layer fr-active\" id=\"fr-image-alt-layer-' + g.id + '\"><div class=\"fr-input-line\"><input id=\"fr-image-alt-layer-text-' + g.id + '\" type=\"text\" placeholder=\"' + g.language.translate(\"Alternative Text\") + '\" tabIndex=\"1\"></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-submit\" data-cmd=\"imageSetAlt\" tabIndex=\"2\" role=\"button\">' + g.language.translate(\"Update\") + \"</button></div></div>\"\n      },\n          a = g.popups.create(\"image.alt\", t);\n      return g.$wp && g.events.$on(g.$wp, \"scroll.image-alt\", function () {\n        d && g.popups.isVisible(\"image.alt\") && H();\n      }), a;\n    }\n\n    function F() {\n      var e = g.popups.get(\"image.size\");\n      if (d) if (be()) {\n        var t = d.parent();\n        t.get(0).style.width || (t = d.parent().parent()), e.find('input[name=\"width\"]').val(t.get(0).style.width).trigger(\"change\"), e.find('input[name=\"height\"]').val(t.get(0).style.height).trigger(\"change\");\n      } else e.find('input[name=\"width\"]').val(d.get(0).style.width).trigger(\"change\"), e.find('input[name=\"height\"]').val(d.get(0).style.height).trigger(\"change\");\n    }\n\n    function j() {\n      var e = g.popups.get(\"image.size\");\n      e || (e = q()), k(), g.popups.refresh(\"image.size\"), g.popups.setContainer(\"image.size\", g.$sc);\n      var t = ve();\n      be() && (t = t.find(\".fr-img-wrap\"));\n      var a = t.offset().left + t.outerWidth() / 2,\n          i = t.offset().top + t.outerHeight();\n      g.popups.show(\"image.size\", a, i, t.outerHeight(), !0);\n    }\n\n    function q(e) {\n      if (e) return g.popups.onRefresh(\"image.size\", F), !0;\n      var t = {\n        buttons: '<div class=\"fr-buttons fr-tabs\">' + g.button.buildList(g.opts.imageSizeButtons) + \"</div>\",\n        size_layer: '<div class=\"fr-image-size-layer fr-layer fr-active\" id=\"fr-image-size-layer-' + g.id + '\"><div class=\"fr-image-group\"><div class=\"fr-input-line\"><input id=\"fr-image-size-layer-width-' + g.id + '\" type=\"text\" name=\"width\" placeholder=\"' + g.language.translate(\"Width\") + '\" tabIndex=\"1\"></div><div class=\"fr-input-line\"><input id=\"fr-image-size-layer-height' + g.id + '\" type=\"text\" name=\"height\" placeholder=\"' + g.language.translate(\"Height\") + '\" tabIndex=\"1\"></div></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-submit\" data-cmd=\"imageSetSize\" tabIndex=\"2\" role=\"button\">' + g.language.translate(\"Update\") + \"</button></div></div>\"\n      },\n          a = g.popups.create(\"image.size\", t);\n      return g.$wp && g.events.$on(g.$wp, \"scroll.image-size\", function () {\n        d && g.popups.isVisible(\"image.size\") && j();\n      }), a;\n    }\n\n    function Q(e, t, a, i) {\n      return e.pageX = t, R.call(this, e), e.pageX = e.pageX + a * Math.floor(Math.pow(1.1, i)), D.call(this, e), x.call(this, e), ++i;\n    }\n\n    function J(e) {\n      (e = e || ve()) && !1 !== g.events.trigger(\"image.beforeRemove\", [e]) && (g.popups.hideAll(), ue(), oe(!0), g.undo.canDo() || g.undo.saveStep(), e.get(0) == g.el ? e.removeAttr(\"src\") : (e.get(0).parentNode && \"A\" == e.get(0).parentNode.tagName ? (g.selection.setBefore(e.get(0).parentNode) || g.selection.setAfter(e.get(0).parentNode) || e.parent().after(ye.MARKERS), c(e.get(0).parentNode).remove()) : (g.selection.setBefore(e.get(0)) || g.selection.setAfter(e.get(0)) || e.after(ye.MARKERS), e.remove()), g.html.fillEmptyBlocks(), g.selection.restore()), g.undo.saveStep());\n    }\n\n    function Z(e) {\n      var t = e.which;\n      if (d && (t == ye.KEYCODE.BACKSPACE || t == ye.KEYCODE.DELETE)) return e.preventDefault(), e.stopPropagation(), J(), !1;\n\n      if (d && t == ye.KEYCODE.ESC) {\n        var a = d;\n        return oe(!0), g.selection.setAfter(a.get(0)), g.selection.restore(), e.preventDefault(), !1;\n      }\n\n      if (d && (t == ye.KEYCODE.ARROW_LEFT || t == ye.KEYCODE.ARROW_RIGHT)) {\n        var i = d.get(0);\n        return oe(!0), t == ye.KEYCODE.ARROW_LEFT ? g.selection.setBefore(i) : g.selection.setAfter(i), g.selection.restore(), e.preventDefault(), !1;\n      }\n\n      return d && t != ye.KEYCODE.F10 && !g.keys.isBrowserAction(e) ? (e.preventDefault(), e.stopPropagation(), !1) : void 0;\n    }\n\n    function ee(e) {\n      if (e && \"IMG\" == e.tagName) {\n        if (g.node.hasClass(e, \"fr-uploading\") || g.node.hasClass(e, \"fr-error\") ? e.parentNode.removeChild(e) : g.node.hasClass(e, \"fr-draggable\") && e.classList.remove(\"fr-draggable\"), e.parentNode && e.parentNode.parentNode && g.node.hasClass(e.parentNode.parentNode, \"fr-img-caption\")) {\n          var t = e.parentNode.parentNode;\n          t.removeAttribute(\"contenteditable\"), t.removeAttribute(\"draggable\"), t.classList.remove(\"fr-draggable\");\n          var a = e.nextSibling;\n          a && a.removeAttribute(\"contenteditable\");\n        }\n      } else if (e && e.nodeType == Node.ELEMENT_NODE) for (var i = e.querySelectorAll(\"img.fr-uploading, img.fr-error, img.fr-draggable\"), r = 0; r < i.length; r++) {\n        ee(i[r]);\n      }\n    }\n\n    function te(e) {\n      if (!1 === g.events.trigger(\"image.beforePasteUpload\", [e])) return !1;\n      d = c(e), E(), n(), me(), I(), d.on(\"load\", function () {\n        E(), I(), c(this).off(\"load\");\n      });\n\n      for (var t = c(e).attr(\"src\").split(\",\"), a = atob(t[1]), i = [], r = 0; r < a.length; r++) {\n        i.push(a.charCodeAt(r));\n      }\n\n      K([new Blob([new Uint8Array(i)], {\n        type: t[0].replace(/data\\:/g, \"\").replace(/;base64/g, \"\")\n      })], d);\n    }\n\n    function ae() {\n      g.opts.imagePaste ? g.$el.find(\"img[data-fr-image-pasted]\").each(function (e, a) {\n        if (g.opts.imagePasteProcess) {\n          var t = g.opts.imageDefaultWidth;\n          t && \"auto\" != t && (t += g.opts.imageResizeWithPercent ? \"%\" : \"px\"), c(a).css(\"width\", t).removeClass(\"fr-dii fr-dib fr-fir fr-fil\"), ge(c(a), g.opts.imageDefaultDisplay, g.opts.imageDefaultAlign);\n        }\n\n        if (0 === a.src.indexOf(\"data:\")) te(a);else if (0 === a.src.indexOf(\"blob:\") || 0 === a.src.indexOf(\"http\") && g.opts.imageUploadRemoteUrls && g.opts.imageCORSProxy) {\n          var i = new Image();\n          i.crossOrigin = \"Anonymous\", i.onload = function () {\n            var e = g.o_doc.createElement(\"CANVAS\"),\n                t = e.getContext(\"2d\");\n            e.height = this.naturalHeight, e.width = this.naturalWidth, t.drawImage(this, 0, 0), setTimeout(function () {\n              te(a);\n            }, 0), a.src = e.toDataURL(\"image/jpeg\");\n          }, i.src = (0 === a.src.indexOf(\"blob:\") ? \"\" : g.opts.imageCORSProxy + \"/\") + a.src;\n        } else 0 !== a.src.indexOf(\"http\") || 0 === a.src.indexOf(\"https://mail.google.com/mail\") ? (g.selection.save(), c(a).remove(), g.selection.restore()) : c(a).removeAttr(\"data-fr-image-pasted\");\n      }) : g.$el.find(\"img[data-fr-image-pasted]\").remove();\n    }\n\n    function ie(e) {\n      var t = e.target.result,\n          a = g.opts.imageDefaultWidth;\n      a && \"auto\" != a && (a += g.opts.imageResizeWithPercent ? \"%\" : \"px\"), g.undo.saveStep(), g.html.insert('<img data-fr-image-pasted=\"true\" src=\"' + t + '\"' + (a ? ' style=\"width: ' + a + ';\"' : \"\") + \">\");\n      var i = g.$el.find('img[data-fr-image-pasted=\"true\"]');\n      i && ge(i, g.opts.imageDefaultDisplay, g.opts.imageDefaultAlign), g.events.trigger(\"paste.after\");\n    }\n\n    function re(e) {\n      if (e && e.clipboardData && e.clipboardData.items) {\n        var t = null;\n        if (e.clipboardData.types && -1 != e.clipboardData.types.indexOf(\"text/rtf\") || e.clipboardData.getData(\"text/rtf\")) t = e.clipboardData.items[0].getAsFile();else for (var a = 0; a < e.clipboardData.items.length && !(t = e.clipboardData.items[a].getAsFile()); a++) {\n          ;\n        }\n        if (t) return i = t, (r = new FileReader()).onload = ie, r.readAsDataURL(i), !1;\n      }\n\n      var i, r;\n    }\n\n    function ne(e) {\n      return e = e.replace(/<img /gi, '<img data-fr-image-pasted=\"true\" ');\n    }\n\n    function se(e) {\n      if (\"false\" == c(this).parents(\"[contenteditable]\").not(\".fr-element\").not(\".fr-img-caption\").not(\"body\").first().attr(\"contenteditable\")) return !0;\n      if (e && \"touchend\" == e.type && a) return !0;\n      if (e && g.edit.isDisabled()) return e.stopPropagation(), e.preventDefault(), !1;\n\n      for (var t = 0; t < ye.INSTANCES.length; t++) {\n        ye.INSTANCES[t] != g && ye.INSTANCES[t].events.trigger(\"image.hideResizer\");\n      }\n\n      g.toolbar.disable(), e && (e.stopPropagation(), e.preventDefault()), g.helpers.isMobile() && (g.events.disableBlur(), g.$el.blur(), g.events.enableBlur()), g.opts.iframe && g.size.syncIframe(), d = c(this), ue(), E(), n(), g.browser.msie ? (g.popups.areVisible() && g.events.disableBlur(), g.win.getSelection && (g.win.getSelection().removeAllRanges(), g.win.getSelection().addRange(g.doc.createRange()))) : g.selection.clear(), g.helpers.isIOS() && (g.events.disableBlur(), g.$el.blur()), g.button.bulkRefresh(), g.events.trigger(\"video.hideResizer\");\n    }\n\n    function oe(e) {\n      d && (le || !0 === e) && (g.toolbar.enable(), l.removeClass(\"fr-active\"), g.popups.hide(\"image.edit\"), d = null, pe(), f = null, p && p.hide());\n    }\n\n    r[i] = \"Image cannot be loaded from the passed link.\", r[u] = \"No link in upload response.\", r[h] = \"Error during file upload.\", r[v] = \"Parsing response failed.\", r[b] = \"File is too large.\", r[y] = \"Image file type is invalid.\", r[7] = \"Files can be uploaded only to same domain in IE 8 and IE 9.\";\n    var le = !(r[8] = \"Image file is corrupted.\");\n\n    function fe() {\n      le = !0;\n    }\n\n    function pe() {\n      le = !1;\n    }\n\n    function ge(e, t, a) {\n      !g.opts.htmlUntouched && g.opts.useClasses ? (e.removeClass(\"fr-fil fr-fir fr-dib fr-dii\"), a && e.addClass(\"fr-fi\" + a[0]), t && e.addClass(\"fr-di\" + t[0])) : \"inline\" == t ? (e.css({\n        display: \"inline-block\",\n        verticalAlign: \"bottom\",\n        margin: g.opts.imageDefaultMargin\n      }), \"center\" == a ? e.css({\n        \"float\": \"none\",\n        marginBottom: \"\",\n        marginTop: \"\",\n        maxWidth: \"calc(100% - \" + 2 * g.opts.imageDefaultMargin + \"px)\",\n        textAlign: \"center\"\n      }) : \"left\" == a ? e.css({\n        \"float\": \"left\",\n        marginLeft: 0,\n        maxWidth: \"calc(100% - \" + g.opts.imageDefaultMargin + \"px)\",\n        textAlign: \"left\"\n      }) : e.css({\n        \"float\": \"right\",\n        marginRight: 0,\n        maxWidth: \"calc(100% - \" + g.opts.imageDefaultMargin + \"px)\",\n        textAlign: \"right\"\n      })) : \"block\" == t && (e.css({\n        display: \"block\",\n        \"float\": \"none\",\n        verticalAlign: \"top\",\n        margin: g.opts.imageDefaultMargin + \"px auto\",\n        textAlign: \"center\"\n      }), \"left\" == a ? e.css({\n        marginLeft: 0,\n        textAlign: \"left\"\n      }) : \"right\" == a && e.css({\n        marginRight: 0,\n        textAlign: \"right\"\n      }));\n    }\n\n    function de(e) {\n      if (void 0 === e && (e = ve()), e) {\n        if (e.hasClass(\"fr-fil\")) return \"left\";\n        if (e.hasClass(\"fr-fir\")) return \"right\";\n        if (e.hasClass(\"fr-dib\") || e.hasClass(\"fr-dii\")) return \"center\";\n        var t = e.css(\"float\");\n\n        if (e.css(\"float\", \"none\"), \"block\" == e.css(\"display\")) {\n          if (e.css(\"float\", \"\"), e.css(\"float\") != t && e.css(\"float\", t), 0 === parseInt(e.css(\"margin-left\"), 10)) return \"left\";\n          if (0 === parseInt(e.css(\"margin-right\"), 10)) return \"right\";\n        } else {\n          if (e.css(\"float\", \"\"), e.css(\"float\") != t && e.css(\"float\", t), \"left\" == e.css(\"float\")) return \"left\";\n          if (\"right\" == e.css(\"float\")) return \"right\";\n        }\n      }\n\n      return \"center\";\n    }\n\n    function ce(e) {\n      void 0 === e && (e = ve());\n      var t = e.css(\"float\");\n      return e.css(\"float\", \"none\"), \"block\" == e.css(\"display\") ? (e.css(\"float\", \"\"), e.css(\"float\") != t && e.css(\"float\", t), \"block\") : (e.css(\"float\", \"\"), e.css(\"float\") != t && e.css(\"float\", t), \"inline\");\n    }\n\n    function me() {\n      var e = g.popups.get(\"image.insert\");\n      e || (e = G()), g.popups.isVisible(\"image.insert\") || (k(), g.popups.refresh(\"image.insert\"), g.popups.setContainer(\"image.insert\", g.$sc));\n      var t = ve();\n      be() && (t = t.find(\".fr-img-wrap\"));\n      var a = t.offset().left + t.outerWidth() / 2,\n          i = t.offset().top + t.outerHeight();\n      g.popups.show(\"image.insert\", a, i, t.outerHeight(!0), !0);\n    }\n\n    function ue() {\n      if (d) {\n        g.events.disableBlur(), g.selection.clear();\n        var e = g.doc.createRange();\n        e.selectNode(d.get(0)), g.browser.msie && e.collapse(!0), g.selection.get().addRange(e), g.events.enableBlur();\n      }\n    }\n\n    function he() {\n      return d;\n    }\n\n    function ve() {\n      return be() ? d.parents(\".fr-img-caption\").first() : d;\n    }\n\n    function be() {\n      return !!d && 0 < d.parents(\".fr-img-caption\").length;\n    }\n\n    return {\n      _init: function _init() {\n        var i;\n        g.events.$on(g.$el, g._mousedown, \"IMG\" == g.el.tagName ? null : 'img:not([contenteditable=\"false\"])', function (e) {\n          if (\"false\" == c(this).parents(\"contenteditable\").not(\".fr-element\").not(\".fr-img-caption\").not(\"body\").first().attr(\"contenteditable\")) return !0;\n          g.helpers.isMobile() || g.selection.clear(), t = !0, g.popups.areVisible() && g.events.disableBlur(), g.browser.msie && (g.events.disableBlur(), g.$el.attr(\"contenteditable\", !1)), g.draggable || \"touchstart\" == e.type || e.preventDefault(), e.stopPropagation();\n        }), g.events.$on(g.$el, g._mouseup, \"IMG\" == g.el.tagName ? null : 'img:not([contenteditable=\"false\"])', function (e) {\n          if (\"false\" == c(this).parents(\"contenteditable\").not(\".fr-element\").not(\".fr-img-caption\").not(\"body\").first().attr(\"contenteditable\")) return !0;\n          t && (t = !1, e.stopPropagation(), g.browser.msie && (g.$el.attr(\"contenteditable\", !0), g.events.enableBlur()));\n        }), g.events.on(\"keyup\", function (e) {\n          if (e.shiftKey && \"\" === g.selection.text().replace(/\\n/g, \"\") && g.keys.isArrow(e.which)) {\n            var t = g.selection.element(),\n                a = g.selection.endElement();\n            t && \"IMG\" == t.tagName ? P(c(t)) : a && \"IMG\" == a.tagName && P(c(a));\n          }\n        }, !0), g.events.on(\"drop\", W), g.events.on(\"element.beforeDrop\", Y), g.events.on(\"mousedown window.mousedown\", fe), g.events.on(\"window.touchmove\", pe), g.events.on(\"mouseup window.mouseup\", function () {\n          if (d) return oe(), !1;\n          pe();\n        }), g.events.on(\"commands.mousedown\", function (e) {\n          0 < e.parents(\".fr-toolbar\").length && oe();\n        }), g.events.on(\"image.resizeEnd\", function () {\n          g.opts.iframe && g.size.syncIframe();\n        }), g.events.on(\"blur image.hideResizer commands.undo commands.redo element.dropped\", function () {\n          oe(!(t = !1));\n        }), g.events.on(\"modals.hide\", function () {\n          d && (ue(), g.selection.clear());\n        }), g.events.on(\"image.resizeEnd\", function () {\n          g.win.getSelection && P(d);\n        }), g.opts.imageAddNewLine && g.events.on(\"image.inserted\", function (e) {\n          var t = e.get(0);\n\n          for (t.nextSibling && \"BR\" === t.nextSibling.tagName && (t = t.nextSibling); t && !g.node.isElement(t);) {\n            t = g.node.isLastSibling(t) ? t.parentNode : null;\n          }\n\n          g.node.isElement(t) && (g.opts.enter === ye.ENTER_BR ? e.after(\"<br>\") : c(g.node.blockParent(e.get(0))).after(\"<\" + g.html.defaultTag() + \"><br></\" + g.html.defaultTag() + \">\"));\n        }), \"IMG\" == g.el.tagName && g.$el.addClass(\"fr-view\"), g.events.$on(g.$el, g.helpers.isMobile() && !g.helpers.isWindowsPhone() ? \"touchend\" : \"click\", \"IMG\" == g.el.tagName ? null : 'img:not([contenteditable=\"false\"])', se), g.helpers.isMobile() && (g.events.$on(g.$el, \"touchstart\", \"IMG\" == g.el.tagName ? null : 'img:not([contenteditable=\"false\"])', function () {\n          a = !1;\n        }), g.events.$on(g.$el, \"touchmove\", function () {\n          a = !0;\n        })), g.$wp ? (g.events.on(\"window.keydown keydown\", Z, !0), g.events.on(\"keyup\", function (e) {\n          if (d && e.which == ye.KEYCODE.ENTER) return !1;\n        }, !0), g.events.$on(g.$el, \"keydown\", function () {\n          var e = g.selection.element();\n          e.nodeType === Node.TEXT_NODE && (e = e.parentNode), g.node.hasClass(e, \"fr-inner\") || (g.node.hasClass(e, \"fr-img-caption\") || (e = c(e).parents(\".fr-img-caption\").get(0)), g.node.hasClass(e, \"fr-img-caption\") && (c(e).after(c.FE.INVISIBLE_SPACE + c.FE.MARKERS), g.selection.restore()));\n        })) : g.events.$on(g.$win, \"keydown\", Z), g.events.on(\"toolbar.esc\", function () {\n          if (d) {\n            if (g.$wp) g.events.disableBlur(), g.events.focus();else {\n              var e = d;\n              oe(!0), g.selection.setAfter(e.get(0)), g.selection.restore();\n            }\n            return !1;\n          }\n        }, !0), g.events.on(\"toolbar.focusEditor\", function () {\n          if (d) return !1;\n        }, !0), g.events.on(\"window.cut window.copy\", function (e) {\n          if (d && g.popups.isVisible(\"image.edit\") && !g.popups.get(\"image.edit\").find(\":focus\").length) {\n            var t = ve();\n            be() ? (t.before(ye.START_MARKER), t.after(ye.END_MARKER), g.selection.restore(), g.paste.saveCopiedText(t.get(0).outerHTML, t.text())) : (ue(), g.paste.saveCopiedText(d.get(0).outerHTML, d.attr(\"alt\"))), \"copy\" == e.type ? setTimeout(function () {\n              P(d);\n            }) : (oe(!0), g.undo.saveStep(), setTimeout(function () {\n              g.undo.saveStep();\n            }, 0));\n          }\n        }, !0), g.browser.msie && g.events.on(\"keydown\", function (e) {\n          if (!g.selection.isCollapsed() || !d) return !0;\n          var t = e.which;\n          t == ye.KEYCODE.C && g.keys.ctrlKey(e) ? g.events.trigger(\"window.copy\") : t == ye.KEYCODE.X && g.keys.ctrlKey(e) && g.events.trigger(\"window.cut\");\n        }), g.events.$on(c(g.o_win), \"keydown\", function (e) {\n          var t = e.which;\n          if (d && t == ye.KEYCODE.BACKSPACE) return e.preventDefault(), !1;\n        }), g.events.$on(g.$win, \"keydown\", function (e) {\n          var t = e.which;\n          d && d.hasClass(\"fr-uploading\") && t == ye.KEYCODE.ESC && d.trigger(\"abortUpload\");\n        }), g.events.on(\"destroy\", function () {\n          d && d.hasClass(\"fr-uploading\") && d.trigger(\"abortUpload\");\n        }), g.events.on(\"paste.before\", re), g.events.on(\"paste.beforeCleanup\", ne), g.events.on(\"paste.after\", ae), g.events.on(\"html.set\", e), g.events.on(\"html.inserted\", e), e(), g.events.on(\"destroy\", function () {\n          o = [];\n        }), g.events.on(\"html.processGet\", ee), g.opts.imageOutputSize && g.events.on(\"html.beforeGet\", function () {\n          i = g.el.querySelectorAll(\"img\");\n\n          for (var e = 0; e < i.length; e++) {\n            var t = i[e].style.width || c(i[e]).width(),\n                a = i[e].style.height || c(i[e]).height();\n            t && i[e].setAttribute(\"width\", (\"\" + t).replace(/px/, \"\")), a && i[e].setAttribute(\"height\", (\"\" + a).replace(/px/, \"\"));\n          }\n        }), g.opts.iframe && g.events.on(\"image.loaded\", g.size.syncIframe), g.$wp && (A(), g.events.on(\"contentChanged\", A)), g.events.$on(c(g.o_win), \"orientationchange.image\", function () {\n          setTimeout(function () {\n            d && P(d);\n          }, 100);\n        }), $(!0), G(!0), q(!0), X(!0), g.events.on(\"node.remove\", function (e) {\n          if (\"IMG\" == e.get(0).tagName) return J(e), !1;\n        });\n      },\n      showInsertPopup: function showInsertPopup() {\n        var e = g.$tb.find('.fr-command[data-cmd=\"insertImage\"]'),\n            t = g.popups.get(\"image.insert\");\n        if (t || (t = G()), k(), !t.hasClass(\"fr-active\")) if (g.popups.refresh(\"image.insert\"), g.popups.setContainer(\"image.insert\", g.$tb), e.isVisible()) {\n          var a = g.button.getPosition(e),\n              i = a.left,\n              r = a.top;\n          g.popups.show(\"image.insert\", i, r, e.outerHeight());\n        } else g.position.forSelection(t), g.popups.show(\"image.insert\");\n      },\n      showLayer: function showLayer(e) {\n        var t,\n            a,\n            i = g.popups.get(\"image.insert\");\n\n        if (d || g.opts.toolbarInline) {\n          if (d) {\n            var r = ve();\n            be() && (r = r.find(\".fr-img-wrap\")), a = r.offset().top + r.outerHeight(), t = r.offset().left;\n          }\n        } else {\n          var n = g.$tb.find('.fr-command[data-cmd=\"insertImage\"]');\n          t = n.offset().left, a = n.offset().top + (g.opts.toolbarBottom ? 10 : n.outerHeight() - 10);\n        }\n\n        !d && g.opts.toolbarInline && (a = i.offset().top - g.helpers.getPX(i.css(\"margin-top\")), i.hasClass(\"fr-above\") && (a += i.outerHeight())), i.find(\".fr-layer\").removeClass(\"fr-active\"), i.find(\".fr-\" + e + \"-layer\").addClass(\"fr-active\"), g.popups.show(\"image.insert\", t, a, d ? d.outerHeight() : 0), g.accessibility.focusPopup(i);\n      },\n      refreshUploadButton: function refreshUploadButton(e) {\n        var t = g.popups.get(\"image.insert\");\n        t && t.find(\".fr-image-upload-layer\").hasClass(\"fr-active\") && e.addClass(\"fr-active\").attr(\"aria-pressed\", !0);\n      },\n      refreshByURLButton: function refreshByURLButton(e) {\n        var t = g.popups.get(\"image.insert\");\n        t && t.find(\".fr-image-by-url-layer\").hasClass(\"fr-active\") && e.addClass(\"fr-active\").attr(\"aria-pressed\", !0);\n      },\n      upload: K,\n      insertByURL: function insertByURL() {\n        var e = g.popups.get(\"image.insert\").find(\".fr-image-by-url-layer input\");\n\n        if (0 < e.val().length) {\n          I(), N(g.language.translate(\"Loading image\"));\n          var t = e.val().trim();\n\n          if (g.opts.imageUploadRemoteUrls && g.opts.imageCORSProxy && g.opts.imageUpload) {\n            var a = new XMLHttpRequest();\n            a.onload = function () {\n              200 == this.status ? K([new Blob([this.response], {\n                type: this.response.type || \"image/png\"\n              })], d) : U(i);\n            }, a.onerror = function () {\n              B(t, !0, [], d);\n            }, a.open(\"GET\", g.opts.imageCORSProxy + \"/\" + t, !0), a.responseType = \"blob\", a.send();\n          } else B(t, !0, [], d);\n\n          e.val(\"\"), e.blur();\n        }\n      },\n      align: function align(e) {\n        var t = ve();\n        t.removeClass(\"fr-fir fr-fil\"), !g.opts.htmlUntouched && g.opts.useClasses ? \"left\" == e ? t.addClass(\"fr-fil\") : \"right\" == e && t.addClass(\"fr-fir\") : ge(t, ce(), e), ue(), E(), n(), g.selection.clear();\n      },\n      refreshAlign: function refreshAlign(e) {\n        d && e.find(\"> *\").first().replaceWith(g.icon.create(\"image-align-\" + de()));\n      },\n      refreshAlignOnShow: function refreshAlignOnShow(e, t) {\n        d && t.find('.fr-command[data-param1=\"' + de() + '\"]').addClass(\"fr-active\").attr(\"aria-selected\", !0);\n      },\n      display: function display(e) {\n        var t = ve();\n        t.removeClass(\"fr-dii fr-dib\"), !g.opts.htmlUntouched && g.opts.useClasses ? \"inline\" == e ? t.addClass(\"fr-dii\") : \"block\" == e && t.addClass(\"fr-dib\") : ge(t, e, de()), ue(), E(), n(), g.selection.clear();\n      },\n      refreshDisplayOnShow: function refreshDisplayOnShow(e, t) {\n        d && t.find('.fr-command[data-param1=\"' + ce() + '\"]').addClass(\"fr-active\").attr(\"aria-selected\", !0);\n      },\n      replace: me,\n      back: function back() {\n        d ? (g.events.disableBlur(), c(\".fr-popup input:focus\").blur(), P(d)) : (g.events.disableBlur(), g.selection.restore(), g.events.enableBlur(), g.popups.hide(\"image.insert\"), g.toolbar.showInline());\n      },\n      get: he,\n      getEl: ve,\n      insert: B,\n      showProgressBar: I,\n      remove: J,\n      hideProgressBar: k,\n      applyStyle: function applyStyle(e, t, a) {\n        if (void 0 === t && (t = g.opts.imageStyles), void 0 === a && (a = g.opts.imageMultipleStyles), !d) return !1;\n        var i = ve();\n\n        if (!a) {\n          var r = Object.keys(t);\n          r.splice(r.indexOf(e), 1), i.removeClass(r.join(\" \"));\n        }\n\n        \"object\" == we(t[e]) ? (i.removeAttr(\"style\"), i.css(t[e].style)) : i.toggleClass(e), P(d);\n      },\n      showAltPopup: H,\n      showSizePopup: j,\n      setAlt: function setAlt(e) {\n        if (d) {\n          var t = g.popups.get(\"image.alt\");\n          d.attr(\"alt\", e || t.find(\"input\").val() || \"\"), t.find(\"input:focus\").blur(), P(d);\n        }\n      },\n      setSize: function setSize(e, t) {\n        if (d) {\n          var a = g.popups.get(\"image.size\");\n          e = e || a.find('input[name=\"width\"]').val() || \"\", t = t || a.find('input[name=\"height\"]').val() || \"\";\n          var i = /^[\\d]+((px)|%)*$/g;\n          d.removeAttr(\"width\").removeAttr(\"height\"), e.match(i) ? d.css(\"width\", e) : d.css(\"width\", \"\"), t.match(i) ? d.css(\"height\", t) : d.css(\"height\", \"\"), be() && (d.parents(\".fr-img-caption\").removeAttr(\"width\").removeAttr(\"height\"), e.match(i) ? d.parents(\".fr-img-caption\").css(\"width\", e) : d.parents(\".fr-img-caption\").css(\"width\", \"\"), t.match(i) ? d.parents(\".fr-img-caption\").css(\"height\", t) : d.parents(\".fr-img-caption\").css(\"height\", \"\")), a && a.find(\"input:focus\").blur(), P(d);\n        }\n      },\n      toggleCaption: function toggleCaption() {\n        var e;\n\n        if (d && !be()) {\n          (e = d).parent().is(\"a\") && (e = d.parent());\n          var t = e.width();\n          e.wrap(\"<span \" + (g.browser.mozilla ? \"\" : 'contenteditable=\"false\"') + 'class=\"fr-img-caption ' + d.attr(\"class\") + '\" draggable=\"false\"></span>'), e.wrap('<span class=\"fr-img-wrap\"></span>'), e.after('<span class=\"fr-inner\"' + (g.browser.mozilla ? \"\" : ' contenteditable=\"true\"') + \">\" + ye.START_MARKER + \"Image caption\" + ye.END_MARKER + \"</span>\"), d.removeAttr(\"class\").removeAttr(\"style\").removeAttr(\"width\"), d.parents(\".fr-img-caption\").css(\"width\", t + \"px\"), oe(!0), g.selection.restore();\n        } else e = ve(), d.insertAfter(e), d.attr(\"class\", e.attr(\"class\").replace(\"fr-img-caption\", \"\")).attr(\"style\", e.attr(\"style\")), e.remove(), P(d);\n      },\n      hasCaption: be,\n      exitEdit: oe,\n      edit: P\n    };\n  }, ye.DefineIcon(\"insertImage\", {\n    NAME: \"image\",\n    SVG_KEY: \"insertImage\"\n  }), ye.RegisterShortcut(ye.KEYCODE.P, \"insertImage\", null, \"P\"), ye.RegisterCommand(\"insertImage\", {\n    title: \"Insert Image\",\n    undo: !1,\n    focus: !0,\n    refreshAfterCallback: !1,\n    popup: !0,\n    callback: function callback() {\n      this.popups.isVisible(\"image.insert\") ? (this.$el.find(\".fr-marker\").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide(\"image.insert\")) : this.image.showInsertPopup();\n    },\n    plugin: \"image\"\n  }), ye.DefineIcon(\"imageUpload\", {\n    NAME: \"upload\",\n    SVG_KEY: \"upload\"\n  }), ye.RegisterCommand(\"imageUpload\", {\n    title: \"Upload Image\",\n    undo: !1,\n    focus: !1,\n    toggle: !0,\n    callback: function callback() {\n      this.image.showLayer(\"image-upload\");\n    },\n    refresh: function refresh(e) {\n      this.image.refreshUploadButton(e);\n    }\n  }), ye.DefineIcon(\"imageByURL\", {\n    NAME: \"link\",\n    SVG_KEY: \"insertLink\"\n  }), ye.RegisterCommand(\"imageByURL\", {\n    title: \"By URL\",\n    undo: !1,\n    focus: !1,\n    toggle: !0,\n    callback: function callback() {\n      this.image.showLayer(\"image-by-url\");\n    },\n    refresh: function refresh(e) {\n      this.image.refreshByURLButton(e);\n    }\n  }), ye.RegisterCommand(\"imageInsertByURL\", {\n    title: \"Insert Image\",\n    undo: !0,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.image.insertByURL();\n    },\n    refresh: function refresh(e) {\n      this.image.get() ? e.text(this.language.translate(\"Replace\")) : e.text(this.language.translate(\"Insert\"));\n    }\n  }), ye.DefineIcon(\"imageDisplay\", {\n    NAME: \"star\",\n    SVG_KEY: \"imageDisplay\"\n  }), ye.RegisterCommand(\"imageDisplay\", {\n    title: \"Display\",\n    type: \"dropdown\",\n    options: {\n      inline: \"Inline\",\n      block: \"Break Text\"\n    },\n    callback: function callback(e, t) {\n      this.image.display(t);\n    },\n    refresh: function refresh(e) {\n      this.opts.imageTextNear || e.addClass(\"fr-hidden\");\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      this.image.refreshDisplayOnShow(e, t);\n    }\n  }), ye.DefineIcon(\"image-align\", {\n    NAME: \"align-left\",\n    SVG_KEY: \"alignLeft\"\n  }), ye.DefineIcon(\"image-align-left\", {\n    NAME: \"align-left\",\n    SVG_KEY: \"alignLeft\"\n  }), ye.DefineIcon(\"image-align-right\", {\n    NAME: \"align-right\",\n    SVG_KEY: \"alignRight\"\n  }), ye.DefineIcon(\"image-align-center\", {\n    NAME: \"align-justify\",\n    SVG_KEY: \"alignCenter\"\n  }), ye.DefineIcon(\"imageAlign\", {\n    NAME: \"align-justify\",\n    SVG_KEY: \"alignJustify\"\n  }), ye.RegisterCommand(\"imageAlign\", {\n    type: \"dropdown\",\n    title: \"Align\",\n    options: {\n      left: \"Align Left\",\n      center: \"None\",\n      right: \"Align Right\"\n    },\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = ye.COMMANDS.imageAlign.options;\n\n      for (var a in t) {\n        t.hasOwnProperty(a) && (e += '<li role=\"presentation\"><a class=\"fr-command fr-title\" tabIndex=\"-1\" role=\"option\" data-cmd=\"imageAlign\" data-param1=\"' + a + '\" title=\"' + this.language.translate(t[a]) + '\">' + this.icon.create(\"image-align-\" + a) + '<span class=\"fr-sr-only\">' + this.language.translate(t[a]) + \"</span></a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.image.align(t);\n    },\n    refresh: function refresh(e) {\n      this.image.refreshAlign(e);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      this.image.refreshAlignOnShow(e, t);\n    }\n  }), ye.DefineIcon(\"imageReplace\", {\n    NAME: \"exchange\",\n    FA5NAME: \"exchange-alt\",\n    SVG_KEY: \"replaceImage\"\n  }), ye.RegisterCommand(\"imageReplace\", {\n    title: \"Replace\",\n    undo: !1,\n    focus: !1,\n    popup: !0,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.image.replace();\n    }\n  }), ye.DefineIcon(\"imageRemove\", {\n    NAME: \"trash\",\n    SVG_KEY: \"remove\"\n  }), ye.RegisterCommand(\"imageRemove\", {\n    title: \"Remove\",\n    callback: function callback() {\n      this.image.remove();\n    }\n  }), ye.DefineIcon(\"imageBack\", {\n    NAME: \"arrow-left\",\n    SVG_KEY: \"back\"\n  }), ye.RegisterCommand(\"imageBack\", {\n    title: \"Back\",\n    undo: !1,\n    focus: !1,\n    back: !0,\n    callback: function callback() {\n      this.image.back();\n    },\n    refresh: function refresh(e) {\n      this.$;\n      this.image.get() || this.opts.toolbarInline ? (e.removeClass(\"fr-hidden\"), e.next(\".fr-separator\").removeClass(\"fr-hidden\")) : (e.addClass(\"fr-hidden\"), e.next(\".fr-separator\").addClass(\"fr-hidden\"));\n    }\n  }), ye.RegisterCommand(\"imageDismissError\", {\n    title: \"OK\",\n    undo: !1,\n    callback: function callback() {\n      this.image.hideProgressBar(!0);\n    }\n  }), ye.DefineIcon(\"imageStyle\", {\n    NAME: \"magic\",\n    SVG_KEY: \"imageClass\"\n  }), ye.RegisterCommand(\"imageStyle\", {\n    title: \"Style\",\n    type: \"dropdown\",\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = this.opts.imageStyles;\n\n      for (var a in t) {\n        if (t.hasOwnProperty(a)) {\n          var i = t[a];\n          \"object\" == we(i) && (i = i.title), e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"imageStyle\" data-param1=\"' + a + '\">' + this.language.translate(i) + \"</a></li>\";\n        }\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.image.applyStyle(t);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      var a = this.$,\n          i = this.image.getEl();\n      i && t.find(\".fr-command\").each(function () {\n        var e = a(this).data(\"param1\"),\n            t = i.hasClass(e);\n        a(this).toggleClass(\"fr-active\", t).attr(\"aria-selected\", t);\n      });\n    }\n  }), ye.DefineIcon(\"imageAlt\", {\n    NAME: \"info\",\n    SVG_KEY: \"imageAltText\"\n  }), ye.RegisterCommand(\"imageAlt\", {\n    undo: !1,\n    focus: !1,\n    popup: !0,\n    title: \"Alternative Text\",\n    callback: function callback() {\n      this.image.showAltPopup();\n    }\n  }), ye.RegisterCommand(\"imageSetAlt\", {\n    undo: !0,\n    focus: !1,\n    title: \"Update\",\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.image.setAlt();\n    }\n  }), ye.DefineIcon(\"imageSize\", {\n    NAME: \"arrows-alt\",\n    SVG_KEY: \"imageSize\"\n  }), ye.RegisterCommand(\"imageSize\", {\n    undo: !1,\n    focus: !1,\n    popup: !0,\n    title: \"Change Size\",\n    callback: function callback() {\n      this.image.showSizePopup();\n    }\n  }), ye.RegisterCommand(\"imageSetSize\", {\n    undo: !0,\n    focus: !1,\n    title: \"Update\",\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.image.setSize();\n    }\n  }), ye.DefineIcon(\"imageCaption\", {\n    NAME: \"commenting\",\n    FA5NAME: \"comment-alt\",\n    SVG_KEY: \"imageCaption\"\n  }), ye.RegisterCommand(\"imageCaption\", {\n    undo: !0,\n    focus: !1,\n    title: \"Image Caption\",\n    refreshAfterCallback: !0,\n    callback: function callback() {\n      this.image.toggleCaption();\n    },\n    refresh: function refresh(e) {\n      this.image.get() && e.toggleClass(\"fr-active\", this.image.hasCaption());\n    }\n  });\n});","map":null,"metadata":{},"sourceType":"script"}