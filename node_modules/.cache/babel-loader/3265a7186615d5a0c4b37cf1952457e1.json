{"ast":null,"code":"var _jsxFileName = \"/Users/hantaoliu/Projects/Learning-Platform/techleak/client/src/components/comment/reply.jsx\";\nimport axios from \"../../axios-blogs\";\nimport React from \"react\";\nimport elapsed from \"../../utils/getElapsed\";\nimport { connect } from \"react-redux\";\n\nconst Reply = props => {\n  const handleDelete = () => {\n    const token = localStorage.getItem(\"token\");\n    const headers = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Token \".concat(token),\n        withCredentials: true\n      }\n    };\n    axios.delete(\"\".concat(process.env.REACT_APP_BACKEND_SERVER, \"/api/posts/comments/reply/\").concat(props.blogId, \"?commentId=\").concat(props.reply.commentRef, \"&replyId=\").concat(props.reply._id), headers).then(res => {\n      props.deleteReply(props.reply._id);\n    }).catch(err => console.log(err));\n  };\n\n  const deleteButton = React.createElement(\"a\", {\n    onClick: handleDelete,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    class: \"fas fa-backspace\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }));\n  return React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"level\",\n    style: {\n      marginBottom: \"0px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, props.reply.username), props.reply.userID === props.userID ? deleteButton : null), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, props.reply.body, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Like \".concat(props.reply.like)), \" \\xB7\", \" \", elapsed(new Date().getTime() - props.reply.post_date_timestamp), \" Ago\")));\n};\n\nconst mapStateToProps = state => {\n  return {\n    userID: state.persistedReducer.userID\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    deleteReply: id => dispatch({\n      type: \"DELETEREPLY\",\n      id: id\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Reply);","map":{"version":3,"sources":["/Users/hantaoliu/Projects/Learning-Platform/techleak/client/src/components/comment/reply.jsx"],"names":["axios","React","elapsed","connect","Reply","props","handleDelete","token","localStorage","getItem","headers","Authorization","withCredentials","delete","process","env","REACT_APP_BACKEND_SERVER","blogId","reply","commentRef","_id","then","res","deleteReply","catch","err","console","log","deleteButton","marginBottom","username","userID","body","like","Date","getTime","post_date_timestamp","mapStateToProps","state","persistedReducer","mapDispatchToProps","dispatch","id","type"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,mBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,SAASC,OAAT,QAAwB,aAAxB;;AAEA,MAAMC,KAAK,GAAGC,KAAK,IAAI;AACrB,QAAMC,YAAY,GAAG,MAAM;AACzB,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,UAAMC,OAAO,GAAG;AACdA,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,aAAa,kBAAWJ,KAAX,CAFN;AAGPK,QAAAA,eAAe,EAAE;AAHV;AADK,KAAhB;AAOAZ,IAAAA,KAAK,CACFa,MADH,WAEOC,OAAO,CAACC,GAAR,CAAYC,wBAFnB,uCAGMX,KAAK,CAACY,MAHZ,wBAIkBZ,KAAK,CAACa,KAAN,CAAYC,UAJ9B,sBAIoDd,KAAK,CAACa,KAAN,CAAYE,GAJhE,GAKIV,OALJ,EAOGW,IAPH,CAOQC,GAAG,IAAI;AACXjB,MAAAA,KAAK,CAACkB,WAAN,CAAkBlB,KAAK,CAACa,KAAN,CAAYE,GAA9B;AACD,KATH,EAUGI,KAVH,CAUSC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAVhB;AAWD,GApBD;;AAsBA,QAAMG,YAAY,GAChB;AAAG,IAAA,OAAO,EAAEtB,YAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,KAAK,EAAC,kBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAMA,SACE;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAuB,IAAA,KAAK,EAAE;AAAEuB,MAAAA,YAAY,EAAE;AAAhB,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASxB,KAAK,CAACa,KAAN,CAAYY,QAArB,CADF,EAEGzB,KAAK,CAACa,KAAN,CAAYa,MAAZ,KAAuB1B,KAAK,CAAC0B,MAA7B,GAAsCH,YAAtC,GAAqD,IAFxD,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGvB,KAAK,CAACa,KAAN,CAAYc,IADf,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAY3B,KAAK,CAACa,KAAN,CAAYe,IAAxB,EADF,WACwC,GADxC,EAEG/B,OAAO,CAAC,IAAIgC,IAAJ,GAAWC,OAAX,KAAuB9B,KAAK,CAACa,KAAN,CAAYkB,mBAApC,CAFV,SAHF,CALF,CADF;AAgBD,CA7CD;;AA+CA,MAAMC,eAAe,GAAGC,KAAK,IAAI;AAC/B,SAAO;AACLP,IAAAA,MAAM,EAAEO,KAAK,CAACC,gBAAN,CAAuBR;AAD1B,GAAP;AAGD,CAJD;;AAMA,MAAMS,kBAAkB,GAAGC,QAAQ,IAAI;AACrC,SAAO;AACLlB,IAAAA,WAAW,EAAEmB,EAAE,IAAID,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAE,aAAR;AAAuBD,MAAAA,EAAE,EAAEA;AAA3B,KAAD;AADtB,GAAP;AAGD,CAJD;;AAMA,eAAevC,OAAO,CACpBkC,eADoB,EAEpBG,kBAFoB,CAAP,CAGbpC,KAHa,CAAf","sourcesContent":["import axios from \"../../axios-blogs\";\nimport React from \"react\";\nimport elapsed from \"../../utils/getElapsed\";\nimport { connect } from \"react-redux\";\n\nconst Reply = props => {\n  const handleDelete = () => {\n    const token = localStorage.getItem(\"token\");\n    const headers = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${token}`,\n        withCredentials: true\n      }\n    };\n    axios\n      .delete(\n        `${process.env.REACT_APP_BACKEND_SERVER}/api/posts/comments/reply/${\n          props.blogId\n        }?commentId=${props.reply.commentRef}&replyId=${props.reply._id}`,\n        headers\n      )\n      .then(res => {\n        props.deleteReply(props.reply._id);\n      })\n      .catch(err => console.log(err));\n  };\n\n  const deleteButton = (\n    <a onClick={handleDelete}>\n      <i class=\"fas fa-backspace\" />\n    </a>\n  );\n\n  return (\n    <div className=\"content\">\n      <div className=\"level\" style={{ marginBottom: \"0px\" }}>\n        <strong>{props.reply.username}</strong>\n        {props.reply.userID === props.userID ? deleteButton : null}\n      </div>\n      <span>\n        {props.reply.body}\n        <br />\n        <small>\n          <a>{`Like ${props.reply.like}`}</a> Â·{\" \"}\n          {elapsed(new Date().getTime() - props.reply.post_date_timestamp)} Ago\n        </small>\n      </span>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    userID: state.persistedReducer.userID\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    deleteReply: id => dispatch({ type: \"DELETEREPLY\", id: id })\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Reply);\n"]},"metadata":{},"sourceType":"module"}