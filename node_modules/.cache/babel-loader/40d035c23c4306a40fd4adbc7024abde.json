{"ast":null,"code":"var _jsxFileName = \"/Users/hantaoliu/Projects/Learning-Platform/techleak/client/src/components/userProfile/userProfileComponent/simplifiedPost.jsx\";\nimport React from \"react\";\nimport Modal from \"react-responsive-modal\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nclass SimplifiedPost extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openComment: false\n    };\n    this.handleComment = this.handleComment.bind(this);\n    this.handleStopPropagation = this.handleStopPropagation.bind(this);\n  }\n\n  spaceDividor() {\n    return React.createElement(\"div\", {\n      style: {\n        margin: \"5px\",\n        display: \"inline-block\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    });\n  }\n\n  createTagGroup() {\n    const tagNames = this.props.tagNames;\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, tagNames.map(tagName => React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      class: \"button is-primary is-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, tagName)), this.spaceDividor())));\n  }\n\n  handleComment(e) {\n    this.setState({\n      openComment: !this.state.openComment\n    });\n    e.preventDefault();\n  }\n\n  handleStopPropagation(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    e.nativeEvent.stopImmediatePropagation();\n  }\n\n  handleDelete(e, objectID) {\n    const token = localStorage.getItem(\"token\");\n    const headers = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Token \".concat(token),\n        withCredentials: true\n      }\n    };\n    const liked = this.props.likedPosts.includes(objectID);\n    axios.delete(\"\".concat(process.env.REACT_APP_BACKEND_SERVER, \"/api/users/likes/\").concat(this.props.userID, \"?postID=\").concat(objectID), headers);\n    axios.patch(\"\".concat(process.env.REACT_APP_BACKEND_SERVER, \"/api/posts/likes/\").concat(objectID), {\n      liked: liked\n    }, headers).then(res => {\n      this.props.handleLike(objectID, liked);\n    }).catch(err => err);\n  }\n\n  deleteControl() {\n    const _this$props = this.props,\n          title = _this$props.title,\n          objectID = _this$props.objectID,\n          PostType = _this$props.PostType;\n\n    if (PostType === \"MyPosts\") {\n      return React.createElement(\"a\", {\n        class: \"level-item\",\n        \"aria-label\": \"cancel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"icon is-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fas fa-times\",\n        style: {\n          color: \"#808080\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })));\n    } else {\n      return React.createElement(\"a\", {\n        class: \"level-item\",\n        \"aria-label\": \"cancel\",\n        onClick: e => {\n          this.props.handleCancelClick(e, title);\n          this.handleDelete(e, objectID);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"icon is-small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fas fa-times\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })));\n    }\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          title = _this$props2.title,\n          views = _this$props2.views,\n          answers = _this$props2.answers,\n          img = _this$props2.img,\n          objectID = _this$props2.objectID,\n          PostType = _this$props2.PostType;\n    const openComment = this.state.openComment;\n    return React.createElement(\"div\", {\n      class: \"box\",\n      style: {\n        marginBottom: \"0.5rem\",\n        padding: \"0.8rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/blog/\".concat(objectID),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"article\", {\n      class: \"media\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"media-left\",\n      onClick: e => this.handleStopPropagation(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"figure\", {\n      class: \"image is-64x64\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: img,\n      alt: \"Image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"media-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      class: \"level is-mobile\",\n      style: {\n        float: \"right\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"level-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      class: \"level-item\",\n      \"aria-label\": \"comment\",\n      onClick: e => this.handleComment(e),\n      style: {\n        marginRight: \"0.25rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"icon is-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"fas fa-comment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }))), this.deleteControl())), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, title), React.createElement(\"div\", {\n      style: {\n        float: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, this.createTagGroup()), React.createElement(\"p\", {\n      style: {\n        float: \"right\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, views, \" Views\"), this.spaceDividor(), React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, answers, \" Answers\"))))))), React.createElement(Modal, {\n      open: openComment,\n      onClose: e => this.handleComment(e),\n      center: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"article\", {\n      class: \"media\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"figure\", {\n      class: \"media-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      class: \"image is-64x64\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"https://versions.bulma.io/0.7.0/images/placeholders/128x128.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"media-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      class: \"control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      class: \"textarea\",\n      placeholder: \"Add a comment...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }))), React.createElement(\"nav\", {\n      class: \"level\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"level-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"level-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      class: \"button is-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Submit\"))), React.createElement(\"div\", {\n      class: \"level-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"level-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      class: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), \" Press enter to submit\"))))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userID: state.persistedReducer.userID,\n    likedPosts: state.persistedReducer.likedPosts\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleLike: (id, liked) => dispatch({\n      type: \"HANDLELIKE\",\n      id: id,\n      liked: liked\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SimplifiedPost);","map":{"version":3,"sources":["/Users/hantaoliu/Projects/Learning-Platform/techleak/client/src/components/userProfile/userProfileComponent/simplifiedPost.jsx"],"names":["React","Modal","axios","connect","Link","SimplifiedPost","Component","constructor","props","state","openComment","handleComment","bind","handleStopPropagation","spaceDividor","margin","display","createTagGroup","tagNames","map","tagName","e","setState","preventDefault","stopPropagation","nativeEvent","stopImmediatePropagation","handleDelete","objectID","token","localStorage","getItem","headers","Authorization","withCredentials","liked","likedPosts","includes","delete","process","env","REACT_APP_BACKEND_SERVER","userID","patch","then","res","handleLike","catch","err","deleteControl","title","PostType","color","handleCancelClick","render","views","answers","img","marginBottom","padding","float","marginRight","mapStateToProps","persistedReducer","mapDispatchToProps","dispatch","id","type"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Modal from \"react-responsive-modal\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nclass SimplifiedPost extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openComment: false\n    };\n    this.handleComment = this.handleComment.bind(this);\n    this.handleStopPropagation = this.handleStopPropagation.bind(this);\n  }\n\n  spaceDividor() {\n    return <div style={{ margin: \"5px\", display: \"inline-block\" }} />;\n  }\n\n  createTagGroup() {\n    const { tagNames } = this.props;\n    return (\n      <React.Fragment>\n        {tagNames.map(tagName => (\n          <React.Fragment>\n            <a class=\"button is-primary is-small\">\n              <span>{tagName}</span>\n            </a>\n            {this.spaceDividor()}\n          </React.Fragment>\n        ))}\n      </React.Fragment>\n    );\n  }\n\n  handleComment(e) {\n    this.setState({ openComment: !this.state.openComment });\n    e.preventDefault();\n  }\n\n  handleStopPropagation(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    e.nativeEvent.stopImmediatePropagation();\n  }\n\n  handleDelete(e, objectID) {\n    const token = localStorage.getItem(\"token\");\n    const headers = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${token}`,\n        withCredentials: true\n      }\n    };\n\n    const liked = this.props.likedPosts.includes(objectID);\n\n    axios.delete(\n      `${process.env.REACT_APP_BACKEND_SERVER}/api/users/likes/${\n        this.props.userID\n      }?postID=${objectID}`,\n      headers\n    );\n\n    axios\n      .patch(\n        `${process.env.REACT_APP_BACKEND_SERVER}/api/posts/likes/${objectID}`,\n        { liked: liked },\n        headers\n      )\n      .then(res => {\n        this.props.handleLike(objectID, liked);\n      })\n      .catch(err => err);\n  }\n\n  deleteControl() {\n    const { title, objectID, PostType } = this.props;\n    if (PostType === \"MyPosts\") {\n      return (\n        <a class=\"level-item\" aria-label=\"cancel\">\n          <span class=\"icon is-small\">\n            <i class=\"fas fa-times\" style={{ color: \"#808080\" }} />\n          </span>\n        </a>\n      );\n    } else {\n      return (\n        <a\n          class=\"level-item\"\n          aria-label=\"cancel\"\n          onClick={e => {\n            this.props.handleCancelClick(e, title);\n            this.handleDelete(e, objectID);\n          }}\n        >\n          <span class=\"icon is-small\">\n            <i class=\"fas fa-times\" />\n          </span>\n        </a>\n      );\n    }\n  }\n\n  render() {\n    const { title, views, answers, img, objectID, PostType } = this.props;\n    const { openComment } = this.state;\n    return (\n      <div class=\"box\" style={{ marginBottom: \"0.5rem\", padding: \"0.8rem\" }}>\n        <Link to={`/blog/${objectID}`}>\n          <article class=\"media\">\n            <div\n              class=\"media-left\"\n              onClick={e => this.handleStopPropagation(e)}\n            >\n              <figure class=\"image is-64x64\">\n                <img src={img} alt=\"Image\" />\n              </figure>\n            </div>\n            <div class=\"media-content\">\n              <div class=\"content\">\n                <nav class=\"level is-mobile\" style={{ float: \"right\" }}>\n                  <div class=\"level-left\">\n                    <a\n                      class=\"level-item\"\n                      aria-label=\"comment\"\n                      onClick={e => this.handleComment(e)}\n                      style={{ marginRight: \"0.25rem\" }}\n                    >\n                      <span class=\"icon is-small\">\n                        <i class=\"fas fa-comment\" />\n                      </span>\n                    </a>\n                    {this.deleteControl()}\n                  </div>\n                </nav>\n                <p>\n                  <h3>{title}</h3>\n                  <div style={{ float: \"left\" }}>{this.createTagGroup()}</div>\n                  <p style={{ float: \"right\" }}>\n                    <small>{views} Views</small>\n                    {this.spaceDividor()}\n                    <small>{answers} Answers</small>\n                  </p>\n                </p>\n              </div>\n            </div>\n          </article>\n        </Link>\n        <Modal open={openComment} onClose={e => this.handleComment(e)} center>\n          <article class=\"media\">\n            <figure class=\"media-left\">\n              <p class=\"image is-64x64\">\n                <img src=\"https://versions.bulma.io/0.7.0/images/placeholders/128x128.png\" />\n              </p>\n            </figure>\n            <div class=\"media-content\">\n              <div class=\"field\">\n                <p class=\"control\">\n                  <textarea class=\"textarea\" placeholder=\"Add a comment...\" />\n                </p>\n              </div>\n              <nav class=\"level\">\n                <div class=\"level-left\">\n                  <div class=\"level-item\">\n                    <a class=\"button is-info\">Submit</a>\n                  </div>\n                </div>\n                <div class=\"level-right\">\n                  <div class=\"level-item\">\n                    <label class=\"checkbox\">\n                      <input type=\"checkbox\" /> Press enter to submit\n                    </label>\n                  </div>\n                </div>\n              </nav>\n            </div>\n          </article>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    userID: state.persistedReducer.userID,\n    likedPosts: state.persistedReducer.likedPosts\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleLike: (id, liked) =>\n      dispatch({ type: \"HANDLELIKE\", id: id, liked: liked })\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SimplifiedPost);\n"]},"metadata":{},"sourceType":"module"}