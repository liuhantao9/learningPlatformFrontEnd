{"ast":null,"code":"/*!\n * froala_editor v3.0.0-rc.1 (https://www.froala.com/wysiwyg-editor)\n * License https://froala.com/wysiwyg-editor/terms/\n * Copyright 2014-2019 Froala Labs\n */\n!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? t(require(\"froala-editor\")) : \"function\" == typeof define && define.amd ? define([\"froala-editor\"], t) : t(e.FroalaEditor);\n}(this, function (ee) {\n  \"use strict\";\n\n  ee = ee && ee.hasOwnProperty(\"default\") ? ee[\"default\"] : ee, Object.assign(ee.POPUP_TEMPLATES, {\n    \"table.insert\": \"[_BUTTONS_][_ROWS_COLUMNS_]\",\n    \"table.edit\": \"[_BUTTONS_]\",\n    \"table.colors\": \"[_BUTTONS_][_COLORS_][_CUSTOM_COLOR_]\"\n  }), Object.assign(ee.DEFAULTS, {\n    tableInsertMaxSize: 10,\n    tableEditButtons: [\"tableHeader\", \"tableRemove\", \"tableRows\", \"tableColumns\", \"tableStyle\", \"-\", \"tableCells\", \"tableCellBackground\", \"tableCellVerticalAlign\", \"tableCellHorizontalAlign\", \"tableCellStyle\"],\n    tableInsertButtons: [\"tableBack\", \"|\"],\n    tableResizer: !0,\n    tableDefaultWidth: \"100%\",\n    tableResizerOffset: 5,\n    tableResizingLimit: 30,\n    tableColorsButtons: [\"tableBack\", \"|\"],\n    tableColors: [\"#61BD6D\", \"#1ABC9C\", \"#54ACD2\", \"#2C82C9\", \"#9365B8\", \"#475577\", \"#CCCCCC\", \"#41A85F\", \"#00A885\", \"#3D8EB9\", \"#2969B0\", \"#553982\", \"#28324E\", \"#000000\", \"#F7DA64\", \"#FBA026\", \"#EB6B56\", \"#E25041\", \"#A38F84\", \"#EFEFEF\", \"#FFFFFF\", \"#FAC51C\", \"#F37934\", \"#D14841\", \"#B8312F\", \"#7C706B\", \"#D1D5D8\", \"REMOVE\"],\n    tableColorsStep: 7,\n    tableCellStyles: {\n      \"fr-highlighted\": \"Highlighted\",\n      \"fr-thick\": \"Thick\"\n    },\n    tableStyles: {\n      \"fr-dashed-borders\": \"Dashed Borders\",\n      \"fr-alternate-rows\": \"Alternate Rows\"\n    },\n    tableCellMultipleStyles: !0,\n    tableMultipleStyles: !0,\n    tableInsertHelper: !0,\n    tableInsertHelperOffset: 15\n  }), ee.PLUGINS.table = function (E) {\n    var R,\n        f,\n        r,\n        n,\n        l,\n        s,\n        A,\n        O = E.$;\n\n    function h() {\n      var e = _();\n\n      if (e) {\n        var t = E.popups.get(\"table.edit\");\n\n        if (t || (t = p()), t) {\n          E.popups.setContainer(\"table.edit\", E.$sc);\n          var a = I(e),\n              l = a.left + (a.right - a.left) / 2,\n              r = a.bottom;\n          E.popups.show(\"table.edit\", l, r, a.bottom - a.top, !0), E.edit.isDisabled() && (1 < Z().length && E.toolbar.disable(), E.$el.removeClass(\"fr-no-selection\"), E.edit.on(), E.button.bulkRefresh(), E.selection.setAtEnd(E.$el.find(\".fr-selected-cell\").last().get(0)), E.selection.restore());\n        }\n      }\n    }\n\n    function d() {\n      var e,\n          t,\n          a,\n          l,\n          r = _();\n\n      if (r) {\n        var n = E.popups.get(\"table.colors\");\n        n || (n = function () {\n          var e = \"\";\n          0 < E.opts.tableColorsButtons.length && (e = '<div class=\"fr-buttons fr-tabs\">' + E.button.buildList(E.opts.tableColorsButtons) + \"</div>\");\n          var t = \"\";\n          E.opts.colorsHEXInput && (t = '<div class=\"fr-color-hex-layer fr-table-colors-hex-layer fr-active fr-layer\" id=\"fr-table-colors-hex-layer-' + E.id + '\"><div class=\"fr-input-line\"><input maxlength=\"7\" id=\"fr-table-colors-hex-layer-text-' + E.id + '\" type=\"text\" placeholder=\"' + E.language.translate(\"HEX Color\") + '\" tabIndex=\"1\" aria-required=\"true\"></div><div class=\"fr-action-buttons\"><button type=\"button\" class=\"fr-command fr-submit\" data-cmd=\"tableCellBackgroundCustomColor\" tabIndex=\"2\" role=\"button\">' + E.language.translate(\"OK\") + \"</button></div></div>\");\n          var a = {\n            buttons: e,\n            colors: function () {\n              for (var e = '<div class=\"fr-color-set fr-table-colors\">', t = 0; t < E.opts.tableColors.length; t++) {\n                0 !== t && t % E.opts.tableColorsStep == 0 && (e += \"<br>\"), \"REMOVE\" != E.opts.tableColors[t] ? e += '<span class=\"fr-command\" style=\"background: ' + E.opts.tableColors[t] + ';\" tabIndex=\"-1\" role=\"button\" data-cmd=\"tableCellBackgroundColor\" data-param1=\"' + E.opts.tableColors[t] + '\"><span class=\"fr-sr-only\">' + E.language.translate(\"Color\") + \" \" + E.opts.tableColors[t] + \"&nbsp;&nbsp;&nbsp;</span></span>\" : e += '<span class=\"fr-command\" data-cmd=\"tableCellBackgroundColor\" tabIndex=\"-1\" role=\"button\" data-param1=\"REMOVE\" title=\"' + E.language.translate(\"Clear Formatting\") + '\">' + E.icon.create(\"tableColorRemove\") + '<span class=\"fr-sr-only\">' + E.language.translate(\"Clear Formatting\") + \"</span></span>\";\n              }\n\n              return e += \"</div>\";\n            }(),\n            custom_color: t\n          },\n              l = E.popups.create(\"table.colors\", a);\n          return E.events.$on(E.$wp, \"scroll.table-colors\", function () {\n            E.popups.isVisible(\"table.colors\") && d();\n          }), u = l, E.events.on(\"popup.tab\", function (e) {\n            var t = O(e.currentTarget);\n            if (!E.popups.isVisible(\"table.colors\") || !t.is(\"span\")) return !0;\n            var a = e.which,\n                l = !0;\n\n            if (ee.KEYCODE.TAB == a) {\n              var r = u.find(\".fr-buttons\");\n              l = !E.accessibility.focusToolbar(r, !!e.shiftKey);\n            } else if (ee.KEYCODE.ARROW_UP == a || ee.KEYCODE.ARROW_DOWN == a || ee.KEYCODE.ARROW_LEFT == a || ee.KEYCODE.ARROW_RIGHT == a) {\n              var n = t.parent().find(\"span.fr-command\"),\n                  s = n.index(t),\n                  o = E.opts.colorsStep,\n                  i = Math.floor(n.length / o),\n                  f = s % o,\n                  d = Math.floor(s / o),\n                  c = d * o + f,\n                  p = i * o;\n              ee.KEYCODE.ARROW_UP == a ? c = ((c - o) % p + p) % p : ee.KEYCODE.ARROW_DOWN == a ? c = (c + o) % p : ee.KEYCODE.ARROW_LEFT == a ? c = ((c - 1) % p + p) % p : ee.KEYCODE.ARROW_RIGHT == a && (c = (c + 1) % p);\n              var h = O(n.get(c));\n              E.events.disableBlur(), h.focus(), l = !1;\n            } else ee.KEYCODE.ENTER == a && (E.button.exec(t), l = !1);\n\n            return !1 === l && (e.preventDefault(), e.stopPropagation()), l;\n          }, !0), l;\n          var u;\n        }()), E.popups.setContainer(\"table.colors\", E.$sc);\n        var s = I(r),\n            o = (s.left + s.right) / 2,\n            i = s.bottom;\n        e = E.popups.get(\"table.colors\"), t = E.$el.find(\".fr-selected-cell\").first(), a = E.helpers.RGBToHex(t.css(\"background-color\")), l = e.find(\".fr-table-colors-hex-layer input\"), e.find(\".fr-selected-color\").removeClass(\"fr-selected-color fr-active-item\"), e.find('span[data-param1=\"' + a + '\"]').addClass(\"fr-selected-color fr-active-item\"), l.val(a).trigger(\"change\"), E.popups.show(\"table.colors\", o, i, s.bottom - s.top, !0);\n      }\n    }\n\n    function o() {\n      0 === Z().length && E.toolbar.enable();\n    }\n\n    function i(e) {\n      if (e) return E.popups.onHide(\"table.insert\", function () {\n        E.popups.get(\"table.insert\").find('.fr-table-size .fr-select-table-size > span[data-row=\"1\"][data-col=\"1\"]').trigger(\"mouseover\");\n      }), !0;\n      var t = \"\";\n      0 < E.opts.tableInsertButtons.length && (t = '<div class=\"fr-buttons fr-tabs\">' + E.button.buildList(E.opts.tableInsertButtons) + \"</div>\");\n      var a,\n          l = {\n        buttons: t,\n        rows_columns: function () {\n          for (var e = '<div class=\"fr-table-size\"><div class=\"fr-table-size-info\">1 &times; 1</div><div class=\"fr-select-table-size\">', t = 1; t <= E.opts.tableInsertMaxSize; t++) {\n            for (var a = 1; a <= E.opts.tableInsertMaxSize; a++) {\n              var l = \"inline-block\";\n              2 < t && !E.helpers.isMobile() && (l = \"none\");\n              var r = \"fr-table-cell \";\n              1 == t && 1 == a && (r += \" hover\"), e += '<span class=\"fr-command ' + r + '\" tabIndex=\"-1\" data-cmd=\"tableInsert\" data-row=\"' + t + '\" data-col=\"' + a + '\" data-param1=\"' + t + '\" data-param2=\"' + a + '\" style=\"display: ' + l + ';\" role=\"button\"><span></span><span class=\"fr-sr-only\">' + t + \" &times; \" + a + \"&nbsp;&nbsp;&nbsp;</span></span>\";\n            }\n\n            e += '<div class=\"new-line\"></div>';\n          }\n\n          return e += \"</div></div>\";\n        }()\n      },\n          r = E.popups.create(\"table.insert\", l);\n      return E.events.$on(r, \"mouseover\", \".fr-table-size .fr-select-table-size .fr-table-cell\", function (e) {\n        c(O(e.currentTarget));\n      }, !0), a = r, E.events.$on(a, \"focus\", \"[tabIndex]\", function (e) {\n        var t = O(e.currentTarget);\n        c(t);\n      }), E.events.on(\"popup.tab\", function (e) {\n        var t = O(e.currentTarget);\n        if (!E.popups.isVisible(\"table.insert\") || !t.is(\"span, a\")) return !0;\n        var a,\n            l = e.which;\n\n        if (ee.KEYCODE.ARROW_UP == l || ee.KEYCODE.ARROW_DOWN == l || ee.KEYCODE.ARROW_LEFT == l || ee.KEYCODE.ARROW_RIGHT == l) {\n          if (t.is(\"span.fr-table-cell\")) {\n            var r = t.parent().find(\"span.fr-table-cell\"),\n                n = r.index(t),\n                s = E.opts.tableInsertMaxSize,\n                o = n % s,\n                i = Math.floor(n / s);\n            ee.KEYCODE.ARROW_UP == l ? i = Math.max(0, i - 1) : ee.KEYCODE.ARROW_DOWN == l ? i = Math.min(E.opts.tableInsertMaxSize - 1, i + 1) : ee.KEYCODE.ARROW_LEFT == l ? o = Math.max(0, o - 1) : ee.KEYCODE.ARROW_RIGHT == l && (o = Math.min(E.opts.tableInsertMaxSize - 1, o + 1));\n            var f = i * s + o,\n                d = O(r.get(f));\n            c(d), E.events.disableBlur(), d.focus(), a = !1;\n          }\n        } else ee.KEYCODE.ENTER == l && (E.button.exec(t), a = !1);\n\n        return !1 === a && (e.preventDefault(), e.stopPropagation()), a;\n      }, !0), r;\n    }\n\n    function c(e) {\n      var t = e.data(\"row\");\n      null !== t && (t = parseInt(t));\n      var a = e.data(\"col\");\n      null !== a && (a = parseInt(a));\n      var l = e.parent();\n      l.siblings(\".fr-table-size-info\").html(t + \" &times; \" + a), l.find(\"> span\").removeClass(\"hover fr-active-item\");\n\n      for (var r = 1; r <= E.opts.tableInsertMaxSize; r++) {\n        for (var n = 0; n <= E.opts.tableInsertMaxSize; n++) {\n          var s = l.find('> span[data-row=\"' + r + '\"][data-col=\"' + n + '\"]');\n          r <= t && n <= a ? s.addClass(\"hover\") : r <= t + 1 || r <= 2 && !E.helpers.isMobile() ? s.css(\"display\", \"inline-block\") : 2 < r && !E.helpers.isMobile() && s.css(\"display\", \"none\");\n        }\n      }\n\n      e.addClass(\"fr-active-item\");\n    }\n\n    function p(e) {\n      if (e) return E.popups.onHide(\"table.edit\", o), !0;\n\n      if (0 < E.opts.tableEditButtons.length) {\n        var t = {\n          buttons: '<div class=\"fr-buttons\">'.concat(E.button.buildList(E.opts.tableEditButtons), \"</div>\")\n        },\n            a = E.popups.create(\"table.edit\", t);\n        return E.events.$on(E.$wp, \"scroll.table-edit\", function () {\n          E.popups.isVisible(\"table.edit\") && h();\n        }), a;\n      }\n\n      return !1;\n    }\n\n    function u() {\n      if (0 < Z().length) {\n        var e = Q();\n        E.selection.setBefore(e.get(0)) || E.selection.setAfter(e.get(0)), E.selection.restore(), E.popups.hide(\"table.edit\"), e.remove(), E.toolbar.enable();\n      }\n    }\n\n    function b(e) {\n      var t = Q();\n\n      if (0 < t.length) {\n        if (0 < E.$el.find(\"th.fr-selected-cell\").length && \"above\" == e) return;\n\n        var a,\n            l,\n            r,\n            n = _(),\n            s = M(n);\n\n        if (null == s) return;\n        l = \"above\" == e ? s.min_i : s.max_i;\n        var o = \"<tr>\";\n\n        for (a = 0; a < n[l].length; a++) {\n          if (\"below\" == e && l < n.length - 1 && n[l][a] == n[l + 1][a] || \"above\" == e && 0 < l && n[l][a] == n[l - 1][a]) {\n            if (0 === a || 0 < a && n[l][a] != n[l][a - 1]) {\n              var i = O(n[l][a]);\n              i.attr(\"rowspan\", parseInt(i.attr(\"rowspan\"), 10) + 1);\n            }\n          } else o += \"<td><br></td>\";\n        }\n\n        o += \"</tr>\", r = 0 < E.$el.find(\"th.fr-selected-cell\").length && \"below\" == e ? O(t.find(\"tbody\").not(t.find(\"> table tbody\"))) : O(t.find(\"tr\").not(t.find(\"> table tr\")).get(l)), \"below\" == e ? \"TBODY\" == r.attr(\"tagName\") ? r.prepend(o) : r[0].parentNode && r[0].insertAdjacentHTML(\"afterend\", o) : \"above\" == e && (r.before(o), E.popups.isVisible(\"table.edit\") && h());\n      }\n    }\n\n    function g(e, t, a) {\n      var l,\n          r,\n          n,\n          s,\n          o,\n          i = 0,\n          f = _(a);\n\n      if (e < (t = Math.min(t, f[0].length - 1))) for (r = e; r <= t; r++) {\n        if (!(e < r && f[0][r] == f[0][r - 1]) && 1 < (s = Math.min(parseInt(f[0][r].getAttribute(\"colspan\"), 10) || 1, t - e + 1)) && f[0][r] == f[0][r + 1]) for (i = s - 1, l = 1; l < f.length; l++) {\n          if (f[l][r] != f[l - 1][r]) {\n            for (n = r; n < r + s; n++) {\n              if (1 < (o = parseInt(f[l][n].getAttribute(\"colspan\"), 10) || 1) && f[l][n] == f[l][n + 1]) n += i = Math.min(i, o - 1);else if (!(i = Math.max(0, i - 1))) break;\n            }\n\n            if (!i) break;\n          }\n        }\n      }\n      i && v(f, i, \"colspan\", 0, f.length - 1, e, t);\n    }\n\n    function m(e, t, a) {\n      var l,\n          r,\n          n,\n          s,\n          o,\n          i = 0,\n          f = _(a);\n\n      if (e < (t = Math.min(t, f.length - 1))) for (l = e; l <= t; l++) {\n        if (!(e < l && f[l][0] == f[l - 1][0]) && 1 < (s = Math.min(parseInt(f[l][0].getAttribute(\"rowspan\"), 10) || 1, t - e + 1)) && f[l][0] == f[l + 1][0]) for (i = s - 1, r = 1; r < f[0].length; r++) {\n          if (f[l][r] != f[l][r - 1]) {\n            for (n = l; n < l + s; n++) {\n              if (1 < (o = parseInt(f[n][r].getAttribute(\"rowspan\"), 10) || 1) && f[n][r] == f[n + 1][r]) n += i = Math.min(i, o - 1);else if (!(i = Math.max(0, i - 1))) break;\n            }\n\n            if (!i) break;\n          }\n        }\n      }\n      i && v(f, i, \"rowspan\", e, t, 0, f[0].length - 1);\n    }\n\n    function v(e, t, a, l, r, n, s) {\n      var o, i, f;\n\n      for (o = l; o <= r; o++) {\n        for (i = n; i <= s; i++) {\n          l < o && e[o][i] == e[o - 1][i] || n < i && e[o][i] == e[o][i - 1] || 1 < (f = parseInt(e[o][i].getAttribute(a), 10) || 1) && (1 < f - t ? e[o][i].setAttribute(a, f - t) : e[o][i].removeAttribute(a));\n        }\n      }\n    }\n\n    function w(e, t, a, l, r) {\n      m(e, t, r), g(a, l, r);\n    }\n\n    function t(e) {\n      var t = E.$el.find(\".fr-selected-cell\");\n      \"REMOVE\" != e ? t.css(\"background-color\", E.helpers.HEXtoRGB(e)) : t.css(\"background-color\", \"\"), h();\n    }\n\n    function _(e) {\n      var f = [];\n      return null == (e = e || null) && 0 < Z().length && (e = Q()), e && e.findVisible(\"tr\").not(e.find(\"> table tr\")).each(function (o, e) {\n        var t = O(e),\n            i = 0;\n        t.find(\"> th, > td\").each(function (e, t) {\n          for (var a = O(t), l = parseInt(a.attr(\"colspan\"), 10) || 1, r = parseInt(a.attr(\"rowspan\"), 10) || 1, n = o; n < o + r; n++) {\n            for (var s = i; s < i + l; s++) {\n              f[n] || (f[n] = []), f[n][s] ? i++ : f[n][s] = t;\n            }\n          }\n\n          i += l;\n        });\n      }), f;\n    }\n\n    function x(e, t) {\n      for (var a = 0; a < t.length; a++) {\n        for (var l = 0; l < t[a].length; l++) {\n          if (t[a][l] == e) return {\n            row: a,\n            col: l\n          };\n        }\n      }\n    }\n\n    function $(e, t, a) {\n      for (var l = e + 1, r = t + 1; l < a.length;) {\n        if (a[l][t] != a[e][t]) {\n          l--;\n          break;\n        }\n\n        l++;\n      }\n\n      for (l == a.length && l--; r < a[e].length;) {\n        if (a[e][r] != a[e][t]) {\n          r--;\n          break;\n        }\n\n        r++;\n      }\n\n      return r == a[e].length && r--, {\n        row: l,\n        col: r\n      };\n    }\n\n    function C() {\n      E.el.querySelector(\".fr-cell-fixed\") && E.el.querySelector(\".fr-cell-fixed\").classList.remove(\"fr-cell-fixed\"), E.el.querySelector(\".fr-cell-handler\") && E.el.querySelector(\".fr-cell-handler\").classList.remove(\"fr-cell-handler\");\n    }\n\n    function D() {\n      var e = E.$el.find(\".fr-selected-cell\");\n      0 < e.length && e.each(function () {\n        var e = O(this);\n        e.removeClass(\"fr-selected-cell\"), \"\" === e.attr(\"class\") && e.removeAttr(\"class\");\n      }), C();\n    }\n\n    function y() {\n      E.events.disableBlur(), E.selection.clear(), E.$el.addClass(\"fr-no-selection\"), E.$el.blur(), E.events.enableBlur();\n    }\n\n    function M(e) {\n      var t = E.$el.find(\".fr-selected-cell\");\n\n      if (0 < t.length) {\n        var a,\n            l = e.length,\n            r = 0,\n            n = e[0].length,\n            s = 0;\n\n        for (a = 0; a < t.length; a++) {\n          var o = x(t[a], e),\n              i = $(o.row, o.col, e);\n          l = Math.min(o.row, l), r = Math.max(i.row, r), n = Math.min(o.col, n), s = Math.max(i.col, s);\n        }\n\n        return {\n          min_i: l,\n          max_i: r,\n          min_j: n,\n          max_j: s\n        };\n      }\n\n      return null;\n    }\n\n    function I(e) {\n      var t = M(e);\n\n      if (null != t) {\n        var a = O(e[t.min_i][t.min_j]),\n            l = O(e[t.min_i][t.max_j]),\n            r = O(e[t.max_i][t.min_j]);\n        return {\n          left: a.offset().left,\n          right: l.offset().left + l.outerWidth(),\n          top: a.offset().top,\n          bottom: r.offset().top + r.outerHeight()\n        };\n      }\n    }\n\n    function S(t, a) {\n      if (O(t).is(a)) D(), O(t).addClass(\"fr-selected-cell\");else {\n        y(), E.edit.off();\n\n        var l = _(),\n            r = x(t, l),\n            n = x(a, l),\n            s = function e(t, a, l, r, n) {\n          var s,\n              o,\n              i,\n              f,\n              d = t,\n              c = a,\n              p = l,\n              h = r;\n\n          for (s = d; s <= c; s++) {\n            (1 < (parseInt(O(n[s][p]).attr(\"rowspan\"), 10) || 1) || 1 < (parseInt(O(n[s][p]).attr(\"colspan\"), 10) || 1)) && (f = $((i = x(n[s][p], n)).row, i.col, n), d = Math.min(i.row, d), c = Math.max(f.row, c), p = Math.min(i.col, p), h = Math.max(f.col, h)), (1 < (parseInt(O(n[s][h]).attr(\"rowspan\"), 10) || 1) || 1 < (parseInt(O(n[s][h]).attr(\"colspan\"), 10) || 1)) && (f = $((i = x(n[s][h], n)).row, i.col, n), d = Math.min(i.row, d), c = Math.max(f.row, c), p = Math.min(i.col, p), h = Math.max(f.col, h));\n          }\n\n          for (o = p; o <= h; o++) {\n            (1 < (parseInt(O(n[d][o]).attr(\"rowspan\"), 10) || 1) || 1 < (parseInt(O(n[d][o]).attr(\"colspan\"), 10) || 1)) && (f = $((i = x(n[d][o], n)).row, i.col, n), d = Math.min(i.row, d), c = Math.max(f.row, c), p = Math.min(i.col, p), h = Math.max(f.col, h)), (1 < (parseInt(O(n[c][o]).attr(\"rowspan\"), 10) || 1) || 1 < (parseInt(O(n[c][o]).attr(\"colspan\"), 10) || 1)) && (f = $((i = x(n[c][o], n)).row, i.col, n), d = Math.min(i.row, d), c = Math.max(f.row, c), p = Math.min(i.col, p), h = Math.max(f.col, h));\n          }\n\n          return d == t && c == a && p == l && h == r ? {\n            min_i: t,\n            max_i: a,\n            min_j: l,\n            max_j: r\n          } : e(d, c, p, h, n);\n        }(Math.min(r.row, n.row), Math.max(r.row, n.row), Math.min(r.col, n.col), Math.max(r.col, n.col), l);\n\n        D(), t.classList.add(\"fr-cell-fixed\"), a.classList.add(\"fr-cell-handler\");\n\n        for (var o = s.min_i; o <= s.max_i; o++) {\n          for (var i = s.min_j; i <= s.max_j; i++) {\n            O(l[o][i]).addClass(\"fr-selected-cell\");\n          }\n        }\n      }\n    }\n\n    function T(e) {\n      var t = null,\n          a = O(e.target);\n      return \"TD\" == e.target.tagName || \"TH\" == e.target.tagName ? t = e.target : 0 < a.closest(\"td\").length ? t = a.closest(\"td\").get(0) : 0 < a.closest(\"th\").length && (t = a.closest(\"th\").get(0)), -1 === E.$el.html.toString().search(t) ? null : t;\n    }\n\n    function N() {\n      D(), E.popups.hide(\"table.edit\");\n    }\n\n    function e(e) {\n      var t = T(e);\n      if (\"false\" == O(t).parents(\"[contenteditable]\").not(\".fr-element\").not(\".fr-img-caption\").not(\"body\").first().attr(\"contenteditable\")) return !0;\n      if (0 < Z().length && !t && N(), !E.edit.isDisabled() || E.popups.isVisible(\"table.edit\")) if (1 != e.which || 1 == e.which && E.helpers.isMac() && e.ctrlKey) (3 == e.which || 1 == e.which && E.helpers.isMac() && e.ctrlKey) && t && N();else if (n = !0, t) {\n        0 < Z().length && !e.shiftKey && N(), e.stopPropagation(), E.events.trigger(\"image.hideResizer\"), E.events.trigger(\"video.hideResizer\"), r = !0;\n        var a = t.tagName.toLowerCase();\n        e.shiftKey && 0 < E.$el.find(a + \".fr-selected-cell\").length ? O(E.$el.find(a + \".fr-selected-cell\").closest(\"table\")).is(O(t).closest(\"table\")) ? S(l, t) : y() : ((E.keys.ctrlKey(e) || e.shiftKey) && (1 < Z().length || 0 === O(t).find(E.selection.element()).length && !O(t).is(E.selection.element())) && y(), l = t, 0 < E.opts.tableEditButtons.length && S(l, l));\n      }\n    }\n\n    function a(e) {\n      if (E.popups.areVisible()) return !0;\n\n      if (r || E.$tb.is(e.target) || E.$tb.is(O(e.target).closest(\".fr-toolbar\")) || (0 < Z().length && E.toolbar.enable(), D()), !(1 != e.which || 1 == e.which && E.helpers.isMac() && e.ctrlKey)) {\n        if (n = !1, r) r = !1, T(e) || 1 != Z().length ? 0 < Z().length && (E.selection.isCollapsed() ? h() : D()) : D();\n\n        if (A) {\n          A = !1, R.removeClass(\"fr-moving\"), E.$el.removeClass(\"fr-no-selection\"), E.edit.on();\n          var t = parseFloat(R.css(\"left\")) + E.opts.tableResizerOffset + E.$wp.offset().left;\n          E.opts.iframe && (t -= E.$iframe.offset().left), R.data(\"release-position\", t), R.removeData(\"max-left\"), R.removeData(\"max-right\"), function () {\n            var e = R.data(\"origin\"),\n                t = R.data(\"release-position\");\n\n            if (e !== t) {\n              var a = R.data(\"first\"),\n                  l = R.data(\"second\"),\n                  r = R.data(\"table\"),\n                  n = r.outerWidth();\n\n              if (E.undo.canDo() || E.undo.saveStep(), null != a && null != l) {\n                var s,\n                    o,\n                    i,\n                    f = _(r),\n                    d = [],\n                    c = [],\n                    p = [],\n                    h = [];\n\n                for (s = 0; s < f.length; s++) {\n                  o = O(f[s][a]), i = O(f[s][l]), d[s] = o.outerWidth(), p[s] = i.outerWidth(), c[s] = d[s] / n * 100, h[s] = p[s] / n * 100;\n                }\n\n                for (s = 0; s < f.length; s++) {\n                  if (o = O(f[s][a]), i = O(f[s][l]), f[s][a] != f[s][l]) {\n                    var u = (c[s] * (d[s] + t - e) / d[s]).toFixed(4);\n                    o.css(\"width\", u + \"%\"), i.css(\"width\", (c[s] + h[s] - u).toFixed(4) + \"%\");\n                  }\n                }\n              } else {\n                var b,\n                    g = r.parent(),\n                    m = n / g.width() * 100,\n                    v = (parseInt(r.css(\"margin-left\"), 10) || 0) / g.width() * 100,\n                    w = (parseInt(r.css(\"margin-right\"), 10) || 0) / g.width() * 100;\n                \"rtl\" == E.opts.direction && 0 === l || \"rtl\" != E.opts.direction && 0 !== l ? (b = (n + t - e) / n * m, r.css(\"margin-right\", \"calc(100% - \" + Math.round(b).toFixed(4) + \"% - \" + Math.round(v).toFixed(4) + \"%)\")) : (\"rtl\" == E.opts.direction && 0 !== l || \"rtl\" != E.opts.direction && 0 === l) && (b = (n - t + e) / n * m, r.css(\"margin-left\", \"calc(100% - \" + Math.round(b).toFixed(4) + \"% - \" + Math.round(w).toFixed(4) + \"%)\")), r.css(\"width\", Math.round(b).toFixed(4) + \"%\");\n              }\n\n              E.selection.restore(), E.undo.saveStep(), E.events.trigger(\"table.resized\", [r.get(0)]);\n            }\n\n            R.removeData(\"origin\"), R.removeData(\"release-position\"), R.removeData(\"first\"), R.removeData(\"second\"), R.removeData(\"table\");\n          }(), Y();\n        }\n      }\n    }\n\n    function K(e) {\n      if (!0 === r && 0 < E.opts.tableEditButtons.length) {\n        if (O(e.currentTarget).closest(\"table\").is(Q())) {\n          if (\"TD\" == e.currentTarget.tagName && 0 === E.$el.find(\"th.fr-selected-cell\").length) return void S(l, e.currentTarget);\n          if (\"TH\" == e.currentTarget.tagName && 0 === E.$el.find(\"td.fr-selected-cell\").length) return void S(l, e.currentTarget);\n        }\n\n        y();\n      }\n    }\n\n    function z(e, t, a, l) {\n      for (var r, n = t; n != E.el && \"TD\" != n.tagName && \"TH\" != n.tagName && (\"up\" == l ? r = n.previousElementSibling : \"down\" == l && (r = n.nextElementSibling), !r);) {\n        n = n.parentNode;\n      }\n\n      \"TD\" == n.tagName || \"TH\" == n.tagName ? function (e, t) {\n        for (var a = e; a && \"TABLE\" != a.tagName && a.parentNode != E.el;) {\n          a = a.parentNode;\n        }\n\n        if (a && \"TABLE\" == a.tagName) {\n          var l = _(O(a));\n\n          \"up\" == t ? B(x(e, l), a, l) : \"down\" == t && k(x(e, l), a, l);\n        }\n      }(n, l) : r && (\"up\" == l && E.selection.setAtEnd(r), \"down\" == l && E.selection.setAtStart(r));\n    }\n\n    function B(e, t, a) {\n      0 < e.row ? E.selection.setAtEnd(a[e.row - 1][e.col]) : z(0, t, 0, \"up\");\n    }\n\n    function k(e, t, a) {\n      var l = parseInt(a[e.row][e.col].getAttribute(\"rowspan\"), 10) || 1;\n      e.row < a.length - l ? E.selection.setAtStart(a[e.row + l][e.col]) : z(0, t, 0, \"down\");\n    }\n\n    function Y() {\n      R && (R.find(\"div\").css(\"opacity\", 0), R.css(\"top\", 0), R.css(\"left\", 0), R.css(\"height\", 0), R.find(\"div\").css(\"height\", 0), R.hide());\n    }\n\n    function W() {\n      f && f.removeClass(\"fr-visible\").css(\"left\", \"-9999px\");\n    }\n\n    function L(e, t) {\n      var a = O(t),\n          l = a.closest(\"table\"),\n          r = l.parent();\n      if (t && \"TD\" != t.tagName && \"TH\" != t.tagName && (0 < a.closest(\"td\").length ? t = a.closest(\"td\") : 0 < a.closest(\"th\").length && (t = a.closest(\"th\"))), !t || \"TD\" != t.tagName && \"TH\" != t.tagName) R && a.get(0) != R.get(0) && a.parent().get(0) != R.get(0) && E.core.sameInstance(R) && Y();else {\n        if (a = O(t), 0 === E.$el.find(a).length) return !1;\n        var n = a.offset().left - 1,\n            s = n + a.outerWidth();\n\n        if (Math.abs(e.pageX - n) <= E.opts.tableResizerOffset || Math.abs(s - e.pageX) <= E.opts.tableResizerOffset) {\n          var o,\n              i,\n              f,\n              d,\n              c,\n              p = _(l),\n              h = x(t, p),\n              u = $(h.row, h.col, p),\n              b = l.offset().top,\n              g = l.outerHeight() - 1;\n\n          \"rtl\" != E.opts.direction ? e.pageX - n <= E.opts.tableResizerOffset ? (f = n, 0 < h.col ? (d = n - j(h.col - 1, p) + E.opts.tableResizingLimit, c = n + j(h.col, p) - E.opts.tableResizingLimit, o = h.col - 1, i = h.col) : (o = null, i = 0, d = l.offset().left - 1 - parseInt(l.css(\"margin-left\"), 10), c = l.offset().left - 1 + l.width() - p[0].length * E.opts.tableResizingLimit)) : s - e.pageX <= E.opts.tableResizerOffset && (f = s, u.col < p[u.row].length && p[u.row][u.col + 1] ? (d = s - j(u.col, p) + E.opts.tableResizingLimit, c = s + j(u.col + 1, p) - E.opts.tableResizingLimit, o = u.col, i = u.col + 1) : (o = u.col, i = null, d = l.offset().left - 1 + p[0].length * E.opts.tableResizingLimit, c = r.offset().left - 1 + r.width() + parseFloat(r.css(\"padding-left\")))) : s - e.pageX <= E.opts.tableResizerOffset ? (f = s, 0 < h.col ? (d = s - j(h.col, p) + E.opts.tableResizingLimit, c = s + j(h.col - 1, p) - E.opts.tableResizingLimit, o = h.col, i = h.col - 1) : (o = null, i = 0, d = l.offset().left + p[0].length * E.opts.tableResizingLimit, c = r.offset().left - 1 + r.width() + parseFloat(r.css(\"padding-left\")))) : e.pageX - n <= E.opts.tableResizerOffset && (f = n, u.col < p[u.row].length && p[u.row][u.col + 1] ? (d = n - j(u.col + 1, p) + E.opts.tableResizingLimit, c = n + j(u.col, p) - E.opts.tableResizingLimit, o = u.col + 1, i = u.col) : (o = u.col, i = null, d = r.offset().left + parseFloat(r.css(\"padding-left\")), c = l.offset().left - 1 + l.width() - p[0].length * E.opts.tableResizingLimit)), R || (E.shared.$table_resizer || (E.shared.$table_resizer = O(document.createElement(\"div\")).attr(\"class\", \"fr-table-resizer\").html(\"<div></div>\")), R = E.shared.$table_resizer, E.events.$on(R, \"mousedown\", function (e) {\n            return !E.core.sameInstance(R) || (0 < Z().length && N(), 1 == e.which ? (E.selection.save(), A = !0, R.addClass(\"fr-moving\"), y(), E.edit.off(), R.find(\"div\").css(\"opacity\", 1), !1) : void 0);\n          }), E.events.$on(R, \"mousemove\", function (e) {\n            if (!E.core.sameInstance(R)) return !0;\n            A && (E.opts.iframe && (e.pageX -= E.$iframe.offset().left), G(e));\n          }), E.events.on(\"shared.destroy\", function () {\n            R.html(\"\").removeData().remove(), R = null;\n          }, !0), E.events.on(\"destroy\", function () {\n            E.$el.find(\".fr-selected-cell\").removeClass(\"fr-selected-cell\"), O(\"body\").first().append(R.hide());\n          }, !0)), R.data(\"table\", l), R.data(\"first\", o), R.data(\"second\", i), R.data(\"instance\", E), E.$wp.append(R);\n          var m = f - E.win.pageXOffset - E.opts.tableResizerOffset - E.$wp.offset().left,\n              v = b - E.$wp.offset().top + E.$wp.scrollTop();\n\n          if (E.opts.iframe) {\n            var w = E.helpers.getPX(E.$wp.find(\".fr-iframe\").css(\"padding-top\")),\n                C = E.helpers.getPX(E.$wp.find(\".fr-iframe\").css(\"padding-left\"));\n            m += E.$iframe.offset().left + C, v += E.$iframe.offset().top + w, d += E.$iframe.offset().left, c += E.$iframe.offset().left;\n          }\n\n          R.data(\"max-left\", d), R.data(\"max-right\", c), R.data(\"origin\", f - E.win.pageXOffset), R.css(\"top\", v), R.css(\"left\", m), R.css(\"height\", g), R.find(\"div\").css(\"height\", g), R.css(\"padding-left\", E.opts.tableResizerOffset), R.css(\"padding-right\", E.opts.tableResizerOffset), R.show();\n        } else E.core.sameInstance(R) && Y();\n      }\n    }\n\n    function F(e, t) {\n      if (E.$box.find(\".fr-line-breaker\").isVisible()) return !1;\n      f || q(), E.$box.append(f), f.data(\"instance\", E);\n      var a,\n          l = O(t).find(\"tr\").first(),\n          r = e.pageX,\n          n = 0,\n          s = 0;\n\n      if (E.opts.iframe) {\n        var o = E.helpers.getPX(E.$wp.find(\".fr-iframe\").css(\"padding-top\")),\n            i = E.helpers.getPX(E.$wp.find(\".fr-iframe\").css(\"padding-left\"));\n        n += E.$iframe.offset().left - E.helpers.scrollLeft() + i, s += E.$iframe.offset().top - E.helpers.scrollTop() + o;\n      }\n\n      l.find(\"th, td\").each(function () {\n        var e = O(this);\n        return e.offset().left <= r && r < e.offset().left + e.outerWidth() / 2 ? (a = parseInt(f.find(\"a\").css(\"width\"), 10), f.css(\"top\", s + e.offset().top - E.$box.offset().top - a - 5), f.css(\"left\", n + e.offset().left - E.$box.offset().left - a / 2), f.data(\"selected-cell\", e), f.data(\"position\", \"before\"), f.addClass(\"fr-visible\"), !1) : e.offset().left + e.outerWidth() / 2 <= r && r < e.offset().left + e.outerWidth() ? (a = parseInt(f.find(\"a\").css(\"width\"), 10), f.css(\"top\", s + e.offset().top - E.$box.offset().top - a - 5), f.css(\"left\", n + e.offset().left - E.$box.offset().left + e.outerWidth() - a / 2), f.data(\"selected-cell\", e), f.data(\"position\", \"after\"), f.addClass(\"fr-visible\"), !1) : void 0;\n      });\n    }\n\n    function H(e, t) {\n      if (E.$box.find(\".fr-line-breaker\").isVisible()) return !1;\n      f || q(), E.$box.append(f), f.data(\"instance\", E);\n      var a,\n          l = O(t),\n          r = e.pageY,\n          n = 0,\n          s = 0;\n\n      if (E.opts.iframe) {\n        var o = E.helpers.getPX(E.$wp.find(\".fr-iframe\").css(\"padding-top\")),\n            i = E.helpers.getPX(E.$wp.find(\".fr-iframe\").css(\"padding-left\"));\n        n += E.$iframe.offset().left - E.helpers.scrollLeft() + i, s += E.$iframe.offset().top - E.helpers.scrollTop() + o;\n      }\n\n      l.find(\"tr\").each(function () {\n        var e = O(this);\n        return e.offset().top <= r && r < e.offset().top + e.outerHeight() / 2 ? (a = parseInt(f.find(\"a\").css(\"width\"), 10), f.css(\"top\", s + e.offset().top - E.$box.offset().top - a / 2), f.css(\"left\", n + e.offset().left - E.$box.offset().left - a - 5), f.data(\"selected-cell\", e.find(\"td\").first()), f.data(\"position\", \"above\"), f.addClass(\"fr-visible\"), !1) : e.offset().top + e.outerHeight() / 2 <= r && r < e.offset().top + e.outerHeight() ? (a = parseInt(f.find(\"a\").css(\"width\"), 10), f.css(\"top\", s + e.offset().top - E.$box.offset().top + e.outerHeight() - a / 2), f.css(\"left\", n + e.offset().left - E.$box.offset().left - a - 5), f.data(\"selected-cell\", e.find(\"td\").first()), f.data(\"position\", \"below\"), f.addClass(\"fr-visible\"), !1) : void 0;\n      });\n    }\n\n    function V(e) {\n      s = null;\n      var t = E.doc.elementFromPoint(e.pageX - E.win.pageXOffset, e.pageY - E.win.pageYOffset);\n      E.opts.tableResizer && (!E.popups.areVisible() || E.popups.areVisible() && E.popups.isVisible(\"table.edit\")) && L(e, t), !E.opts.tableInsertHelper || E.popups.areVisible() || E.$tb.hasClass(\"fr-inline\") && E.$tb.isVisible() || function (e, t) {\n        if (0 === Z().length) {\n          var a, l, r;\n          if (t && (\"HTML\" == t.tagName || \"BODY\" == t.tagName || E.node.isElement(t))) for (a = 1; a <= E.opts.tableInsertHelperOffset; a++) {\n            if (l = E.doc.elementFromPoint(e.pageX - E.win.pageXOffset, e.pageY - E.win.pageYOffset + a), O(l).hasClass(\"fr-tooltip\")) return;\n            if (l && (\"TH\" == l.tagName || \"TD\" == l.tagName || \"TABLE\" == l.tagName) && (O(l).parents(\".fr-wrapper\").length || E.opts.iframe)) return F(e, O(l).closest(\"table\"));\n            if (r = E.doc.elementFromPoint(e.pageX - E.win.pageXOffset + a, e.pageY - E.win.pageYOffset), O(r).hasClass(\"fr-tooltip\")) return;\n            if (r && (\"TH\" == r.tagName || \"TD\" == r.tagName || \"TABLE\" == r.tagName) && (O(r).parents(\".fr-wrapper\").length || E.opts.iframe)) return H(e, O(r).closest(\"table\"));\n          }\n          E.core.sameInstance(f) && W();\n        }\n      }(e, t);\n    }\n\n    function P() {\n      if (A) {\n        var e = R.data(\"table\").offset().top - E.win.pageYOffset;\n\n        if (E.opts.iframe) {\n          var t = E.helpers.getPX(E.$wp.find(\".fr-iframe\").css(\"padding-top\"));\n          e += E.$iframe.offset().top - E.helpers.scrollTop() + t;\n        }\n\n        R.css(\"top\", e);\n      }\n    }\n\n    function j(e, t) {\n      var a,\n          l = O(t[0][e]).outerWidth();\n\n      for (a = 1; a < t.length; a++) {\n        l = Math.min(l, O(t[a][e]).outerWidth());\n      }\n\n      return l;\n    }\n\n    function X(e, t, a) {\n      var l,\n          r = 0;\n\n      for (l = e; l <= t; l++) {\n        r += j(l, a);\n      }\n\n      return r;\n    }\n\n    function G(e) {\n      if (1 < Z().length && n && y(), !1 === n && !1 === r && !1 === A) s && clearTimeout(s), E.edit.isDisabled() && !E.popups.isVisible(\"table.edit\") || (s = setTimeout(V, 30, e));else if (A) {\n        var t = e.pageX - E.win.pageXOffset;\n        E.opts.iframe && (t += E.$iframe.offset().left);\n        var a = R.data(\"max-left\"),\n            l = R.data(\"max-right\");\n        a <= t && t <= l ? R.css(\"left\", t - E.opts.tableResizerOffset - E.$wp.offset().left) : t < a && parseFloat(R.css(\"left\"), 10) > a - E.opts.tableResizerOffset ? R.css(\"left\", a - E.opts.tableResizerOffset - E.$wp.offset().left) : l < t && parseFloat(R.css(\"left\"), 10) < l - E.opts.tableResizerOffset && R.css(\"left\", l - E.opts.tableResizerOffset - E.$wp.offset().left);\n      } else n && W();\n    }\n\n    function U(e) {\n      E.node.isEmpty(e.get(0)) ? e.prepend(ee.MARKERS) : e.prepend(ee.START_MARKER).append(ee.END_MARKER);\n    }\n\n    function q() {\n      E.shared.$ti_helper || (E.shared.$ti_helper = O(document.createElement(\"div\")).attr(\"class\", \"fr-insert-helper\").html('<a class=\"fr-floating-btn\" role=\"button\" tabIndex=\"-1\" title=\"' + E.language.translate(\"Insert\") + '\"><svg viewBox=\"0 0 32 32\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z\"/></svg></a>'), E.events.bindClick(E.shared.$ti_helper, \"a\", function () {\n        var e = f.data(\"selected-cell\"),\n            t = f.data(\"position\"),\n            a = f.data(\"instance\") || E;\n        \"before\" == t ? (E.undo.saveStep(), e.addClass(\"fr-selected-cell\"), a.table.insertColumn(t), e.removeClass(\"fr-selected-cell\"), E.undo.saveStep()) : \"after\" == t ? (E.undo.saveStep(), e.addClass(\"fr-selected-cell\"), a.table.insertColumn(t), e.removeClass(\"fr-selected-cell\"), E.undo.saveStep()) : \"above\" == t ? (E.undo.saveStep(), e.addClass(\"fr-selected-cell\"), a.table.insertRow(t), e.removeClass(\"fr-selected-cell\"), E.undo.saveStep()) : \"below\" == t && (E.undo.saveStep(), e.addClass(\"fr-selected-cell\"), a.table.insertRow(t), e.removeClass(\"fr-selected-cell\"), E.undo.saveStep()), W();\n      }), E.events.on(\"shared.destroy\", function () {\n        E.shared.$ti_helper.html(\"\").removeData().remove(), E.shared.$ti_helper = null;\n      }, !0), E.events.$on(E.shared.$ti_helper, \"mousemove\", function (e) {\n        e.stopPropagation();\n      }, !0), E.events.$on(O(E.o_win), \"scroll\", function () {\n        W();\n      }, !0), E.events.$on(E.$wp, \"scroll\", function () {\n        W();\n      }, !0)), f = E.shared.$ti_helper, E.events.on(\"destroy\", function () {\n        f = null;\n      }), E.tooltip.bind(E.$box, \".fr-insert-helper > a.fr-floating-btn\");\n    }\n\n    function J() {\n      l = null, clearTimeout(s);\n    }\n\n    function Z() {\n      return E.el.querySelectorAll(\".fr-selected-cell\");\n    }\n\n    function Q() {\n      var e = Z();\n\n      if (e.length) {\n        for (var t = e[0]; t && \"TABLE\" != t.tagName && t.parentNode != E.el;) {\n          t = t.parentNode;\n        }\n\n        return t && \"TABLE\" == t.tagName ? O(t) : O([]);\n      }\n\n      return O([]);\n    }\n\n    return {\n      _init: function _init() {\n        if (!E.$wp) return !1;\n\n        if (!E.helpers.isMobile()) {\n          A = r = n = !1, E.events.$on(E.$el, \"mousedown\", e), E.popups.onShow(\"image.edit\", function () {\n            D(), r = n = !1;\n          }), E.popups.onShow(\"link.edit\", function () {\n            D(), r = n = !1;\n          }), E.events.on(\"commands.mousedown\", function (e) {\n            0 < e.parents(\".fr-toolbar\").length && D();\n          }), E.events.$on(E.$el, \"mouseover\", \"th, td\", K), E.events.$on(E.$win, \"mouseup\", a), E.opts.iframe && E.events.$on(O(E.o_win), \"mouseup\", a), E.events.$on(E.$win, \"mousemove\", G), E.events.$on(O(E.o_win), \"scroll\", P), E.events.on(\"contentChanged\", function () {\n            0 < Z().length && (h(), E.$el.find(\"img\").on(\"load.selected-cells\", function () {\n              O(this).off(\"load.selected-cells\"), 0 < Z().length && h();\n            }));\n          }), E.events.$on(O(E.o_win), \"resize\", function () {\n            D();\n          }), E.events.on(\"toolbar.esc\", function () {\n            if (0 < Z().length) return E.events.disableBlur(), E.events.focus(), !1;\n          }, !0), E.events.$on(O(E.o_win), \"keydown\", function () {\n            n && r && (r = n = !1, E.$el.removeClass(\"fr-no-selection\"), E.edit.on(), E.selection.setAtEnd(E.$el.find(\".fr-selected-cell\").last().get(0)), E.selection.restore(), D());\n          }), E.events.$on(E.$el, \"keydown\", function (e) {\n            e.shiftKey ? !1 === function (e) {\n              var t = Z();\n\n              if (null != t && 0 < t.length) {\n                var a,\n                    l,\n                    r = _(),\n                    n = e.which;\n\n                1 == t.length ? l = a = t[0] : (a = E.el.querySelector(\".fr-cell-fixed\"), l = E.el.querySelector(\".fr-cell-handler\"));\n                var s = x(l, r);\n\n                if (ee.KEYCODE.ARROW_RIGHT == n) {\n                  if (s.col < r[0].length - 1) return S(a, r[s.row][s.col + 1]), !1;\n                } else if (ee.KEYCODE.ARROW_DOWN == n) {\n                  if (s.row < r.length - 1) return S(a, r[s.row + 1][s.col]), !1;\n                } else if (ee.KEYCODE.ARROW_LEFT == n) {\n                  if (0 < s.col) return S(a, r[s.row][s.col - 1]), !1;\n                } else if (ee.KEYCODE.ARROW_UP == n && 0 < s.row) return S(a, r[s.row - 1][s.col]), !1;\n              }\n            }(e) && setTimeout(function () {\n              h();\n            }, 0) : function (e) {\n              var t = e.which,\n                  a = E.selection.blocks();\n\n              if (a.length && (\"TD\" == (a = a[0]).tagName || \"TH\" == a.tagName)) {\n                for (var l = a; l && \"TABLE\" != l.tagName && l.parentNode != E.el;) {\n                  l = l.parentNode;\n                }\n\n                if (l && \"TABLE\" == l.tagName && (ee.KEYCODE.ARROW_LEFT == t || ee.KEYCODE.ARROW_UP == t || ee.KEYCODE.ARROW_RIGHT == t || ee.KEYCODE.ARROW_DOWN == t) && (0 < Z().length && N(), E.browser.webkit && (ee.KEYCODE.ARROW_UP == t || ee.KEYCODE.ARROW_DOWN == t))) {\n                  var r = E.selection.ranges(0).startContainer;\n                  if (r.nodeType == Node.TEXT_NODE && (ee.KEYCODE.ARROW_UP == t && r.previousSibling || ee.KEYCODE.ARROW_DOWN == t && r.nextSibling)) return;\n                  e.preventDefault(), e.stopPropagation();\n\n                  var n = _(O(l)),\n                      s = x(a, n);\n\n                  ee.KEYCODE.ARROW_UP == t ? B(s, l, n) : ee.KEYCODE.ARROW_DOWN == t && k(s, l, n), E.selection.restore();\n                }\n              }\n            }(e);\n          }), E.events.on(\"keydown\", function (e) {\n            if (!1 === function (e) {\n              if (e.which == ee.KEYCODE.TAB) {\n                var t;\n                if (0 < Z().length) t = E.$el.find(\".fr-selected-cell\").last();else {\n                  var a = E.selection.element();\n                  \"TD\" == a.tagName || \"TH\" == a.tagName ? t = O(a) : a != E.el && (0 < O(a).parentsUntil(E.$el, \"td\").length ? t = O(a).parents(\"td\").first() : 0 < O(a).parentsUntil(E.$el, \"th\").length && (t = O(a).parents(\"th\").first()));\n                }\n                if (t) return e.preventDefault(), !!(0 < O(E.selection.element()).parentsUntil(E.$el, \"ol, ul\").length && (0 < O(E.selection.element()).parents(\"li\").prev().length || O(E.selection.element()).is(\"li\") && 0 < O(E.selection.element()).prev().length)) || (N(), e.shiftKey ? 0 < t.prev().length ? U(t.prev()) : 0 < t.closest(\"tr\").length && 0 < t.closest(\"tr\").prev().length ? U(t.closest(\"tr\").prev().find(\"td\").last()) : 0 < t.closest(\"tbody\").length && 0 < t.closest(\"table\").find(\"thead tr\").length && U(t.closest(\"table\").find(\"thead tr th\").last()) : 0 < t.next().length ? U(t.next()) : 0 < t.closest(\"tr\").length && 0 < t.closest(\"tr\").next().length ? U(t.closest(\"tr\").next().find(\"td\").first()) : 0 < t.closest(\"thead\").length && 0 < t.closest(\"table\").find(\"tbody tr\").length ? U(t.closest(\"table\").find(\"tbody tr td\").first()) : (t.addClass(\"fr-selected-cell\"), b(\"below\"), D(), U(t.closest(\"tr\").next().find(\"td\").first())), E.selection.restore(), !1);\n              }\n            }(e)) return !1;\n            var t = Z();\n\n            if (0 < t.length) {\n              if (0 < t.length && E.keys.ctrlKey(e) && e.which == ee.KEYCODE.A) return D(), E.popups.isVisible(\"table.edit\") && E.popups.hide(\"table.edit\"), t = [], !0;\n              if (e.which == ee.KEYCODE.ESC && E.popups.isVisible(\"table.edit\")) return D(), E.popups.hide(\"table.edit\"), e.preventDefault(), e.stopPropagation(), e.stopImmediatePropagation(), !(t = []);\n\n              if (1 < t.length && (e.which == ee.KEYCODE.BACKSPACE || e.which == ee.KEYCODE.DELETE)) {\n                E.undo.saveStep();\n\n                for (var a = 0; a < t.length; a++) {\n                  O(t[a]).html(\"<br>\"), a == t.length - 1 && O(t[a]).prepend(ee.MARKERS);\n                }\n\n                return E.selection.restore(), E.undo.saveStep(), !(t = []);\n              }\n\n              if (1 < t.length && e.which != ee.KEYCODE.F10 && !E.keys.isBrowserAction(e)) return e.preventDefault(), !(t = []);\n            } else if (!(t = []) === function (e) {\n              if (e.altKey && e.which == ee.KEYCODE.SPACE) {\n                var t,\n                    a = E.selection.element();\n                if (\"TD\" == a.tagName || \"TH\" == a.tagName ? t = a : 0 < O(a).closest(\"td\").length ? t = O(a).closest(\"td\").get(0) : 0 < O(a).closest(\"th\").length && (t = O(a).closest(\"th\").get(0)), t) return e.preventDefault(), S(t, t), h(), !1;\n              }\n            }(e)) return !1;\n          }, !0);\n          var t = [];\n          E.events.on(\"html.beforeGet\", function () {\n            t = Z();\n\n            for (var e = 0; e < t.length; e++) {\n              t[e].className = (t[e].className || \"\").replace(/fr-selected-cell/g, \"\");\n            }\n          }), E.events.on(\"html.afterGet\", function () {\n            for (var e = 0; e < t.length; e++) {\n              t[e].className = (t[e].className ? t[e].className.trim() + \" \" : \"\") + \"fr-selected-cell\";\n            }\n\n            t = [];\n          }), i(!0), p(!0);\n        }\n\n        E.events.on(\"destroy\", J);\n      },\n      insert: function insert(e, t) {\n        var a,\n            l,\n            r = \"<table \" + (E.opts.tableDefaultWidth ? 'style=\"width: ' + E.opts.tableDefaultWidth + ';\" ' : \"\") + 'class=\"fr-inserted-table\"><tbody>',\n            n = 100 / t;\n\n        for (a = 0; a < e; a++) {\n          for (r += \"<tr>\", l = 0; l < t; l++) {\n            r += \"<td\" + (E.opts.tableDefaultWidth ? ' style=\"width: ' + n.toFixed(4) + '%;\"' : \"\") + \">\", 0 === a && 0 === l && (r += ee.MARKERS), r += \"<br></td>\";\n          }\n\n          r += \"</tr>\";\n        }\n\n        r += \"</tbody></table>\", E.html.insert(r), E.selection.restore();\n        var s = E.$el.find(\".fr-inserted-table\");\n        s.removeClass(\"fr-inserted-table\"), E.events.trigger(\"table.inserted\", [s.get(0)]);\n      },\n      remove: u,\n      insertRow: b,\n      deleteRow: function deleteRow() {\n        var e = Q();\n\n        if (0 < e.length) {\n          var t,\n              a,\n              l,\n              r = _(),\n              n = M(r);\n\n          if (null == n) return;\n          if (0 === n.min_i && n.max_i == r.length - 1) u();else {\n            for (t = n.max_i; t >= n.min_i; t--) {\n              for (l = O(e.find(\"tr\").not(e.find(\"> table tr\")).get(t)), a = 0; a < r[t].length; a++) {\n                if (0 === a || r[t][a] != r[t][a - 1]) {\n                  var s = O(r[t][a]);\n\n                  if (1 < parseInt(s.attr(\"rowspan\"), 10)) {\n                    var o = parseInt(s.attr(\"rowspan\"), 10) - 1;\n                    1 == o ? s.removeAttr(\"rowspan\") : s.attr(\"rowspan\", o);\n                  }\n\n                  if (t < r.length - 1 && r[t][a] == r[t + 1][a] && (0 === t || r[t][a] != r[t - 1][a])) {\n                    for (var i = r[t][a], f = a; 0 < f && r[t][f] == r[t][f - 1];) {\n                      f--;\n                    }\n\n                    0 === f ? O(e.find(\"tr\").not(e.find(\"> table tr\")).get(t + 1)).prepend(i) : O(r[t + 1][f - 1])[0].parentNode && O(r[t + 1][f - 1])[0].insertAdjacentElement(\"afterend\", i);\n                  }\n                }\n              }\n\n              var d = l.parent();\n              l.remove(), 0 === d.find(\"tr\").length && d.remove(), r = _(e);\n            }\n\n            w(0, r.length - 1, 0, r[0].length - 1, e), 0 < n.min_i ? E.selection.setAtEnd(r[n.min_i - 1][0]) : E.selection.setAtEnd(r[0][0]), E.selection.restore(), E.popups.hide(\"table.edit\");\n          }\n        }\n      },\n      insertColumn: function insertColumn(i) {\n        var e = Q();\n\n        if (0 < e.length) {\n          var f,\n              d = _(),\n              t = M(d);\n\n          f = \"before\" == i ? t.min_j : t.max_j;\n          var a,\n              c = 100 / d[0].length,\n              p = 100 / (d[0].length + 1);\n          e.find(\"th, td\").each(function () {\n            (a = O(this)).data(\"old-width\", a.outerWidth() / e.outerWidth() * 100);\n          }), e.find(\"tr\").not(e.find(\"> table tr\")).each(function (e) {\n            for (var t, a = O(this), l = 0, r = 0; l - 1 < f;) {\n              if (!(t = a.find(\"> th, > td\").get(r))) {\n                t = null;\n                break;\n              }\n\n              t == d[e][l] ? (l += parseInt(O(t).attr(\"colspan\"), 10) || 1, r++) : (l += parseInt(O(d[e][l]).attr(\"colspan\"), 10) || 1, \"after\" == i && (t = 0 === r ? -1 : a.find(\"> th, > td\").get(r - 1)));\n            }\n\n            var n,\n                s = O(t);\n\n            if (\"after\" == i && f < l - 1 || \"before\" == i && 0 < f && d[e][f] == d[e][f - 1]) {\n              if (0 === e || 0 < e && d[e][f] != d[e - 1][f]) {\n                var o = parseInt(s.attr(\"colspan\"), 10) + 1;\n                s.attr(\"colspan\", o), s.css(\"width\", (s.data(\"old-width\") * p / c + p).toFixed(4) + \"%\"), s.removeData(\"old-width\");\n              }\n            } else n = 0 < a.find(\"th\").length ? '<th style=\"width: ' + p.toFixed(4) + '%;\"><br></th>' : '<td style=\"width: ' + p.toFixed(4) + '%;\"><br></td>', -1 == t ? a.prepend(n) : null == t ? a.append(n) : \"before\" == i ? s.before(n) : \"after\" == i && s[0].parentNode && s[0].insertAdjacentHTML(\"afterend\", n);\n          }), e.find(\"th, td\").each(function () {\n            (a = O(this)).data(\"old-width\") && (a.css(\"width\", (a.data(\"old-width\") * p / c).toFixed(4) + \"%\"), a.removeData(\"old-width\"));\n          }), E.popups.isVisible(\"table.edit\") && h();\n        }\n      },\n      deleteColumn: function deleteColumn() {\n        var e = Q();\n\n        if (0 < e.length) {\n          var t,\n              a,\n              l,\n              r = _(),\n              n = M(r);\n\n          if (null == n) return;\n          if (0 === n.min_j && n.max_j == r[0].length - 1) u();else {\n            var s = 0;\n\n            for (t = 0; t < r.length; t++) {\n              for (a = 0; a < r[0].length; a++) {\n                (l = O(r[t][a])).hasClass(\"fr-selected-cell\") || (l.data(\"old-width\", l.outerWidth() / e.outerWidth() * 100), (a < n.min_j || a > n.max_j) && (s += l.outerWidth() / e.outerWidth() * 100));\n              }\n            }\n\n            for (s /= r.length, a = n.max_j; a >= n.min_j; a--) {\n              for (t = 0; t < r.length; t++) {\n                if (0 === t || r[t][a] != r[t - 1][a]) if (l = O(r[t][a]), 1 < (parseInt(l.attr(\"colspan\"), 10) || 1)) {\n                  var o = parseInt(l.attr(\"colspan\"), 10) - 1;\n                  1 == o ? l.removeAttr(\"colspan\") : l.attr(\"colspan\", o), l.css(\"width\", (100 * (l.data(\"old-width\") - j(a, r)) / s).toFixed(4) + \"%\"), l.removeData(\"old-width\");\n                } else {\n                  var i = O(l.parent().get(0));\n                  l.remove(), 0 === i.find(\"> th, > td\").length && (0 === i.prev().length || 0 === i.next().length || i.prev().find(\"> th[rowspan], > td[rowspan]\").length < i.prev().find(\"> th, > td\").length) && i.remove();\n                }\n              }\n            }\n\n            w(0, r.length - 1, 0, r[0].length - 1, e), 0 < n.min_j ? E.selection.setAtEnd(r[n.min_i][n.min_j - 1]) : E.selection.setAtEnd(r[n.min_i][0]), E.selection.restore(), E.popups.hide(\"table.edit\"), e.find(\"th, td\").each(function () {\n              (l = O(this)).data(\"old-width\") && (l.css(\"width\", (100 * l.data(\"old-width\") / s).toFixed(4) + \"%\"), l.removeData(\"old-width\"));\n            });\n          }\n        }\n      },\n      mergeCells: function mergeCells() {\n        if (1 < Z().length && (0 === E.$el.find(\"th.fr-selected-cell\").length || 0 === E.$el.find(\"td.fr-selected-cell\").length)) {\n          C();\n          var e,\n              t,\n              a = M(_());\n          if (null == a) return;\n          var l = E.$el.find(\".fr-selected-cell\"),\n              r = O(l[0]),\n              n = r.parent().find(\".fr-selected-cell\"),\n              s = r.closest(\"table\"),\n              o = r.html(),\n              i = 0;\n\n          for (e = 0; e < n.length; e++) {\n            i += O(n[e]).outerWidth();\n          }\n\n          for (r.css(\"width\", Math.min(100, i / s.outerWidth() * 100).toFixed(4) + \"%\"), a.min_j < a.max_j && r.attr(\"colspan\", a.max_j - a.min_j + 1), a.min_i < a.max_i && r.attr(\"rowspan\", a.max_i - a.min_i + 1), e = 1; e < l.length; e++) {\n            \"<br>\" != (t = O(l[e])).html() && \"\" !== t.html() && (o += \"<br>\" + t.html()), t.remove();\n          }\n\n          r.html(o), E.selection.setAtEnd(r.get(0)), E.selection.restore(), E.toolbar.enable(), m(a.min_i, a.max_i, s);\n          var f = s.find(\"tr:empty\");\n\n          for (e = f.length - 1; 0 <= e; e--) {\n            O(f[e]).remove();\n          }\n\n          g(a.min_j, a.max_j, s), h();\n        }\n      },\n      splitCellVertically: function splitCellVertically() {\n        if (1 == Z().length) {\n          var e = E.$el.find(\".fr-selected-cell\"),\n              t = parseInt(e.attr(\"colspan\"), 10) || 1,\n              a = e.parent().outerWidth(),\n              l = e.outerWidth(),\n              r = e.clone().html(\"<br>\"),\n              n = _(),\n              s = x(e.get(0), n);\n\n          if (1 < t) {\n            var o = Math.ceil(t / 2);\n            l = X(s.col, s.col + o - 1, n) / a * 100;\n            var i = X(s.col + o, s.col + t - 1, n) / a * 100;\n            1 < o ? e.attr(\"colspan\", o) : e.removeAttr(\"colspan\"), 1 < t - o ? r.attr(\"colspan\", t - o) : r.removeAttr(\"colspan\"), e.css(\"width\", l.toFixed(4) + \"%\"), r.css(\"width\", i.toFixed(4) + \"%\");\n          } else {\n            var f;\n\n            for (f = 0; f < n.length; f++) {\n              if (0 === f || n[f][s.col] != n[f - 1][s.col]) {\n                var d = O(n[f][s.col]);\n\n                if (!d.is(e)) {\n                  var c = (parseInt(d.attr(\"colspan\"), 10) || 1) + 1;\n                  d.attr(\"colspan\", c);\n                }\n              }\n            }\n\n            l = l / a * 100 / 2, e.css(\"width\", l.toFixed(4) + \"%\"), r.css(\"width\", l.toFixed(4) + \"%\");\n          }\n\n          e[0].parentNode && e[0].insertAdjacentElement(\"afterend\", r[0]), D(), E.popups.hide(\"table.edit\");\n        }\n      },\n      splitCellHorizontally: function splitCellHorizontally() {\n        if (1 == Z().length) {\n          var e = E.$el.find(\".fr-selected-cell\"),\n              t = e.parent(),\n              a = e.closest(\"table\"),\n              l = parseInt(e.attr(\"rowspan\"), 10),\n              r = _(),\n              n = x(e.get(0), r),\n              s = e.clone().html(\"<br>\");\n\n          if (1 < l) {\n            var o = Math.ceil(l / 2);\n            1 < o ? e.attr(\"rowspan\", o) : e.removeAttr(\"rowspan\"), 1 < l - o ? s.attr(\"rowspan\", l - o) : s.removeAttr(\"rowspan\");\n\n            for (var i = n.row + o, f = 0 === n.col ? n.col : n.col - 1; 0 <= f && (r[i][f] == r[i][f - 1] || 0 < i && r[i][f] == r[i - 1][f]);) {\n              f--;\n            }\n\n            -1 == f ? O(a.find(\"tr\").not(a.find(\"> table tr\")).get(i)).prepend(s) : O(r[i][f])[0].parentNode && O(r[i][f])[0].insertAdjacentElement(\"afterend\", s[0]);\n          } else {\n            var d,\n                c = O(document.createElement(\"tr\")).append(s);\n\n            for (d = 0; d < r[0].length; d++) {\n              if (0 === d || r[n.row][d] != r[n.row][d - 1]) {\n                var p = O(r[n.row][d]);\n                p.is(e) || p.attr(\"rowspan\", (parseInt(p.attr(\"rowspan\"), 10) || 1) + 1);\n              }\n            }\n\n            t[0].parentNode && t[0].insertAdjacentElement(\"afterend\", c[0]);\n          }\n\n          D(), E.popups.hide(\"table.edit\");\n        }\n      },\n      addHeader: function addHeader() {\n        var e = Q();\n\n        if (0 < e.length && 0 === e.find(\"th\").length) {\n          var t,\n              a = \"<thead><tr>\",\n              l = 0;\n\n          for (e.find(\"tr\").first().find(\"> td\").each(function () {\n            var e = O(this);\n            l += parseInt(e.attr(\"colspan\"), 10) || 1;\n          }), t = 0; t < l; t++) {\n            a += \"<th><br></th>\";\n          }\n\n          a += \"</tr></thead>\", e.prepend(a), h();\n        }\n      },\n      removeHeader: function removeHeader() {\n        var e = Q(),\n            t = e.find(\"thead\");\n        if (0 < t.length) if (0 === e.find(\"tbody tr\").length) u();else if (t.remove(), 0 < Z().length) h();else {\n          E.popups.hide(\"table.edit\");\n          var a = e.find(\"tbody tr\").first().find(\"td\").first().get(0);\n          a && (E.selection.setAtEnd(a), E.selection.restore());\n        }\n      },\n      setBackground: t,\n      showInsertPopup: function showInsertPopup() {\n        var e = E.$tb.find('.fr-command[data-cmd=\"insertTable\"]'),\n            t = E.popups.get(\"table.insert\");\n\n        if (t || (t = i()), !t.hasClass(\"fr-active\")) {\n          E.popups.refresh(\"table.insert\"), E.popups.setContainer(\"table.insert\", E.$tb);\n          var a = E.button.getPosition(e),\n              l = a.left,\n              r = a.top;\n          E.popups.show(\"table.insert\", l, r, e.outerHeight());\n        }\n      },\n      showEditPopup: h,\n      showColorsPopup: d,\n      back: function back() {\n        0 < Z().length ? h() : (E.popups.hide(\"table.insert\"), E.toolbar.showInline());\n      },\n      verticalAlign: function verticalAlign(e) {\n        E.$el.find(\".fr-selected-cell\").css(\"vertical-align\", e);\n      },\n      horizontalAlign: function horizontalAlign(e) {\n        E.$el.find(\".fr-selected-cell\").css(\"text-align\", e);\n      },\n      applyStyle: function applyStyle(e, t, a, l) {\n        if (0 < t.length) {\n          if (!a) {\n            var r = Object.keys(l);\n            r.splice(r.indexOf(e), 1), t.removeClass(r.join(\" \"));\n          }\n\n          t.toggleClass(e);\n        }\n      },\n      selectedTable: Q,\n      selectedCells: Z,\n      customColor: function customColor() {\n        var e = E.popups.get(\"table.colors\").find(\".fr-table-colors-hex-layer input\");\n        e.length && t(e.val());\n      },\n      selectCells: S\n    };\n  }, ee.DefineIcon(\"insertTable\", {\n    NAME: \"table\",\n    SVG_KEY: \"insertTable\"\n  }), ee.RegisterCommand(\"insertTable\", {\n    title: \"Insert Table\",\n    undo: !1,\n    focus: !0,\n    refreshOnCallback: !1,\n    popup: !0,\n    callback: function callback() {\n      this.popups.isVisible(\"table.insert\") ? (this.$el.find(\".fr-marker\").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide(\"table.insert\")) : this.table.showInsertPopup();\n    },\n    plugin: \"table\"\n  }), ee.RegisterCommand(\"tableInsert\", {\n    callback: function callback(e, t, a) {\n      this.table.insert(t, a), this.popups.hide(\"table.insert\");\n    }\n  }), ee.DefineIcon(\"tableHeader\", {\n    NAME: \"header\",\n    FA5NAME: \"heading\",\n    SVG_KEY: \"tableHeader\"\n  }), ee.RegisterCommand(\"tableHeader\", {\n    title: \"Table Header\",\n    focus: !1,\n    toggle: !0,\n    callback: function callback() {\n      this.popups.get(\"table.edit\").find('.fr-command[data-cmd=\"tableHeader\"]').hasClass(\"fr-active\") ? this.table.removeHeader() : this.table.addHeader();\n    },\n    refresh: function refresh(e) {\n      var t = this.table.selectedTable();\n      0 < t.length && (0 === t.find(\"th\").length ? e.removeClass(\"fr-active\").attr(\"aria-pressed\", !1) : e.addClass(\"fr-active\").attr(\"aria-pressed\", !0));\n    }\n  }), ee.DefineIcon(\"tableRows\", {\n    NAME: \"bars\",\n    SVG_KEY: \"row\"\n  }), ee.RegisterCommand(\"tableRows\", {\n    type: \"dropdown\",\n    focus: !1,\n    title: \"Row\",\n    options: {\n      above: \"Insert row above\",\n      below: \"Insert row below\",\n      \"delete\": \"Delete row\"\n    },\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = ee.COMMANDS.tableRows.options;\n\n      for (var a in t) {\n        t.hasOwnProperty(a) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"tableRows\" data-param1=\"' + a + '\" title=\"' + this.language.translate(t[a]) + '\">' + this.language.translate(t[a]) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      \"above\" == t || \"below\" == t ? this.table.insertRow(t) : this.table.deleteRow();\n    }\n  }), ee.DefineIcon(\"tableColumns\", {\n    NAME: \"bars fa-rotate-90\",\n    SVG_KEY: \"columns\"\n  }), ee.RegisterCommand(\"tableColumns\", {\n    type: \"dropdown\",\n    focus: !1,\n    title: \"Column\",\n    options: {\n      before: \"Insert column before\",\n      after: \"Insert column after\",\n      \"delete\": \"Delete column\"\n    },\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = ee.COMMANDS.tableColumns.options;\n\n      for (var a in t) {\n        t.hasOwnProperty(a) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"tableColumns\" data-param1=\"' + a + '\" title=\"' + this.language.translate(t[a]) + '\">' + this.language.translate(t[a]) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      \"before\" == t || \"after\" == t ? this.table.insertColumn(t) : this.table.deleteColumn();\n    }\n  }), ee.DefineIcon(\"tableCells\", {\n    NAME: \"square-o\",\n    FA5NAME: \"square\",\n    SVG_KEY: \"cellOptions\"\n  }), ee.RegisterCommand(\"tableCells\", {\n    type: \"dropdown\",\n    focus: !1,\n    title: \"Cell\",\n    options: {\n      merge: \"Merge cells\",\n      \"vertical-split\": \"Vertical split\",\n      \"horizontal-split\": \"Horizontal split\"\n    },\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = ee.COMMANDS.tableCells.options;\n\n      for (var a in t) {\n        t.hasOwnProperty(a) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"tableCells\" data-param1=\"' + a + '\" title=\"' + this.language.translate(t[a]) + '\">' + this.language.translate(t[a]) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      \"merge\" == t ? this.table.mergeCells() : \"vertical-split\" == t ? this.table.splitCellVertically() : this.table.splitCellHorizontally();\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      1 < this.$el.find(\".fr-selected-cell\").length ? (t.find('a[data-param1=\"vertical-split\"]').addClass(\"fr-disabled\").attr(\"aria-disabled\", !0), t.find('a[data-param1=\"horizontal-split\"]').addClass(\"fr-disabled\").attr(\"aria-disabled\", !0), t.find('a[data-param1=\"merge\"]').removeClass(\"fr-disabled\").attr(\"aria-disabled\", !1)) : (t.find('a[data-param1=\"merge\"]').addClass(\"fr-disabled\").attr(\"aria-disabled\", !0), t.find('a[data-param1=\"vertical-split\"]').removeClass(\"fr-disabled\").attr(\"aria-disabled\", !1), t.find('a[data-param1=\"horizontal-split\"]').removeClass(\"fr-disabled\").attr(\"aria-disabled\", !1));\n    }\n  }), ee.DefineIcon(\"tableRemove\", {\n    NAME: \"trash\",\n    SVG_KEY: \"removeTable\"\n  }), ee.RegisterCommand(\"tableRemove\", {\n    title: \"Remove Table\",\n    focus: !1,\n    callback: function callback() {\n      this.table.remove();\n    }\n  }), ee.DefineIcon(\"tableStyle\", {\n    NAME: \"paint-brush\",\n    SVG_KEY: \"tableStyle\"\n  }), ee.RegisterCommand(\"tableStyle\", {\n    title: \"Table Style\",\n    type: \"dropdown\",\n    focus: !1,\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = this.opts.tableStyles;\n\n      for (var a in t) {\n        t.hasOwnProperty(a) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"tableStyle\" data-param1=\"' + a + '\" title=\"' + this.language.translate(t[a]) + '\">' + this.language.translate(t[a]) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.table.applyStyle(t, this.$el.find(\".fr-selected-cell\").closest(\"table\"), this.opts.tableMultipleStyles, this.opts.tableStyles);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      var a = this.$,\n          l = this.$el.find(\".fr-selected-cell\").closest(\"table\");\n      l && t.find(\".fr-command\").each(function () {\n        var e = a(this).data(\"param1\"),\n            t = l.hasClass(e);\n        a(this).toggleClass(\"fr-active\", t).attr(\"aria-selected\", t);\n      });\n    }\n  }), ee.DefineIcon(\"tableCellBackground\", {\n    NAME: \"tint\",\n    SVG_KEY: \"cellBackground\"\n  }), ee.RegisterCommand(\"tableCellBackground\", {\n    title: \"Cell Background\",\n    focus: !1,\n    popup: !0,\n    callback: function callback() {\n      this.table.showColorsPopup();\n    }\n  }), ee.RegisterCommand(\"tableCellBackgroundColor\", {\n    undo: !0,\n    focus: !1,\n    callback: function callback(e, t) {\n      this.table.setBackground(t);\n    }\n  }), ee.DefineIcon(\"tableBack\", {\n    NAME: \"arrow-left\",\n    SVG_KEY: \"back\"\n  }), ee.RegisterCommand(\"tableBack\", {\n    title: \"Back\",\n    undo: !1,\n    focus: !1,\n    back: !0,\n    callback: function callback() {\n      this.table.back();\n    },\n    refresh: function refresh(e) {\n      0 !== this.table.selectedCells().length || this.opts.toolbarInline ? (e.removeClass(\"fr-hidden\"), e.next(\".fr-separator\").removeClass(\"fr-hidden\")) : (e.addClass(\"fr-hidden\"), e.next(\".fr-separator\").addClass(\"fr-hidden\"));\n    }\n  }), ee.DefineIcon(\"tableCellVerticalAlign\", {\n    NAME: \"arrows-v\",\n    FA5NAME: \"arrows-alt-v\",\n    SVG_KEY: \"verticalAlignMiddle\"\n  }), ee.RegisterCommand(\"tableCellVerticalAlign\", {\n    type: \"dropdown\",\n    focus: !1,\n    title: \"Vertical Align\",\n    options: {\n      Top: \"Align Top\",\n      Middle: \"Align Middle\",\n      Bottom: \"Align Bottom\"\n    },\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = ee.COMMANDS.tableCellVerticalAlign.options;\n\n      for (var a in t) {\n        t.hasOwnProperty(a) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"tableCellVerticalAlign\" data-param1=\"' + a.toLowerCase() + '\" title=\"' + this.language.translate(t[a]) + '\">' + this.language.translate(a) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.table.verticalAlign(t);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      t.find('.fr-command[data-param1=\"' + this.$el.find(\".fr-selected-cell\").css(\"vertical-align\") + '\"]').addClass(\"fr-active\").attr(\"aria-selected\", !0);\n    }\n  }), ee.DefineIcon(\"tableCellHorizontalAlign\", {\n    NAME: \"align-left\",\n    SVG_KEY: \"alignLeft\"\n  }), ee.DefineIcon(\"align-left\", {\n    NAME: \"align-left\",\n    SVG_KEY: \"alignLeft\"\n  }), ee.DefineIcon(\"align-right\", {\n    NAME: \"align-right\",\n    SVG_KEY: \"alignRight\"\n  }), ee.DefineIcon(\"align-center\", {\n    NAME: \"align-center\",\n    SVG_KEY: \"alignCenter\"\n  }), ee.DefineIcon(\"align-justify\", {\n    NAME: \"align-justify\",\n    SVG_KEY: \"alignJustify\"\n  }), ee.RegisterCommand(\"tableCellHorizontalAlign\", {\n    type: \"dropdown\",\n    focus: !1,\n    title: \"Horizontal Align\",\n    options: {\n      left: \"Align Left\",\n      center: \"Align Center\",\n      right: \"Align Right\",\n      justify: \"Align Justify\"\n    },\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = ee.COMMANDS.tableCellHorizontalAlign.options;\n\n      for (var a in t) {\n        t.hasOwnProperty(a) && (e += '<li role=\"presentation\"><a class=\"fr-command fr-title\" tabIndex=\"-1\" role=\"option\" data-cmd=\"tableCellHorizontalAlign\" data-param1=\"' + a + '\" title=\"' + this.language.translate(t[a]) + '\">' + this.icon.create(\"align-\" + a) + '<span class=\"fr-sr-only\">' + this.language.translate(t[a]) + \"</span></a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.table.horizontalAlign(t);\n    },\n    refresh: function refresh(e) {\n      var t = this.table.selectedCells(),\n          a = this.$;\n      t.length && e.find(\"> *\").first().replaceWith(this.icon.create(\"align-\" + this.helpers.getAlignment(a(t[0]))));\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      t.find('.fr-command[data-param1=\"' + this.helpers.getAlignment(this.$el.find(\".fr-selected-cell\").first()) + '\"]').addClass(\"fr-active\").attr(\"aria-selected\", !0);\n    }\n  }), ee.DefineIcon(\"tableCellStyle\", {\n    NAME: \"magic\",\n    SVG_KEY: \"cellStyle\"\n  }), ee.RegisterCommand(\"tableCellStyle\", {\n    title: \"Cell Style\",\n    type: \"dropdown\",\n    focus: !1,\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = this.opts.tableCellStyles;\n\n      for (var a in t) {\n        t.hasOwnProperty(a) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"tableCellStyle\" data-param1=\"' + a + '\" title=\"' + this.language.translate(t[a]) + '\">' + this.language.translate(t[a]) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.table.applyStyle(t, this.$el.find(\".fr-selected-cell\"), this.opts.tableCellMultipleStyles, this.opts.tableCellStyles);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      var a = this.$,\n          l = this.$el.find(\".fr-selected-cell\").first();\n      l && t.find(\".fr-command\").each(function () {\n        var e = a(this).data(\"param1\"),\n            t = l.hasClass(e);\n        a(this).toggleClass(\"fr-active\", t).attr(\"aria-selected\", t);\n      });\n    }\n  }), ee.RegisterCommand(\"tableCellBackgroundCustomColor\", {\n    title: \"OK\",\n    undo: !0,\n    callback: function callback() {\n      this.table.customColor();\n    }\n  }), ee.DefineIcon(\"tableColorRemove\", {\n    NAME: \"eraser\",\n    SVG_KEY: \"remove\"\n  });\n});","map":null,"metadata":{},"sourceType":"script"}