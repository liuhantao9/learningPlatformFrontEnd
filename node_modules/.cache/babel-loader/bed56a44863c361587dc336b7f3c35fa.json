{"ast":null,"code":"var _jsxFileName = \"/Users/hantaoliu/Projects/Learning-Platform/techleak/client/src/components/Blog.jsx\";\nimport React, { Component } from \"react\";\nimport Navbar from \"./navbar\";\nimport axios from \"axios\";\nimport ReactHtmlParser from \"react-html-parser\";\nimport Comments from \"./comment/comments\";\n\nclass Blog extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      liked: false,\n      saved: false,\n      shared: false,\n      post_date: \"\",\n      comments: []\n    };\n\n    this.componentDidMount = () => {\n      axios.get(\"\".concat(process.env.REACT_APP_BACKEND_SERVER, \"/api/posts/\").concat(this.props.match.params.id)).then(res => {\n        const date = new Date(res.data.post_date_timestamp);\n        this.setState({\n          comments: res.data.comments,\n          post_date: \"\".concat(date.getMonth() + 1, \"-\").concat(date.getDate(), \"-\").concat(date.getFullYear()),\n          loaded: true\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.handleLike = type => {\n      const token = localStorage.getItem(\"token\");\n      const headers = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Token \".concat(token)\n        }\n      };\n      axios.patch(\"\".concat(process.env.REACT_APP_BACKEND_SERVER, \"/api/posts/likes/\").concat(this.props.match.params.id), null, headers).then(res => {\n        this.setState({\n          [type]: !this.state[type]\n        });\n      }).catch(err => err);\n    };\n  }\n\n  render() {\n    let _this$state = this.state,\n        liked = _this$state.liked,\n        shared = _this$state.shared,\n        saved = _this$state.saved;\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"section\", {\n      className: \"hero is-info is-medium is-bold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"hero-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container has-text-centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.state.title)))), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"articles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"column is-10 is-offset-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card article \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"media\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"media-content has-text-centered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tags has-addons level-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"tag is-rounded is-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"DatePosted@\"), React.createElement(\"span\", {\n      className: \"tag is-rounded\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, this.state.post_date.slice(0, 10))))), React.createElement(\"div\", {\n      className: \"content article-body\",\n      style: {\n        marginBottom: \"10%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, ReactHtmlParser(this.state.content)), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"level-left\",\n      style: {\n        justifyContent: \"space-between\",\n        width: \"80%\",\n        margin: \"3% auto 3% auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      class: \"level-item button \",\n      onClick: () => this.handleLike(\"shared\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"icon is-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"far fa-share-square\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      class: saved ? \"level-item button is-success\" : \"level-item button\",\n      \"aria-label\": \"retweet\",\n      onClick: () => this.handleLike(\"saved\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"icon is-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"far fa-save\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      class: liked ? \"level-item button is-success\" : \"level-item button\",\n      \"aria-label\": \"like\",\n      onClick: () => this.handleLike(\"liked\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"icon is-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"far fa-thumbs-up\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    })))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    })), React.createElement(Comments, {\n      comments: this.state.comments,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default Blog;","map":{"version":3,"sources":["/Users/hantaoliu/Projects/Learning-Platform/techleak/client/src/components/Blog.jsx"],"names":["React","Component","Navbar","axios","ReactHtmlParser","Comments","Blog","state","liked","saved","shared","post_date","comments","componentDidMount","get","process","env","REACT_APP_BACKEND_SERVER","props","match","params","id","then","res","date","Date","data","post_date_timestamp","setState","getMonth","getDate","getFullYear","loaded","catch","err","console","log","handleLike","type","token","localStorage","getItem","headers","Authorization","patch","render","title","slice","marginBottom","content","justifyContent","width","margin"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,QAAP,MAAqB,oBAArB;;AAEA,MAAMC,IAAN,SAAmBL,SAAnB,CAA6B;AAAA;AAAA;AAAA,SAC3BM,KAD2B,GACnB;AACNC,MAAAA,KAAK,EAAE,KADD;AAENC,MAAAA,KAAK,EAAE,KAFD;AAGNC,MAAAA,MAAM,EAAE,KAHF;AAINC,MAAAA,SAAS,EAAE,EAJL;AAKNC,MAAAA,QAAQ,EAAE;AALJ,KADmB;;AAAA,SAS3BC,iBAT2B,GASP,MAAM;AACxBV,MAAAA,KAAK,CACFW,GADH,WAEOC,OAAO,CAACC,GAAR,CAAYC,wBAFnB,wBAGM,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAH9B,GAMGC,IANH,CAMQC,GAAG,IAAI;AACX,cAAMC,IAAI,GAAG,IAAIC,IAAJ,CAASF,GAAG,CAACG,IAAJ,CAASC,mBAAlB,CAAb;AACA,aAAKC,QAAL,CAAc;AACZhB,UAAAA,QAAQ,EAAEW,GAAG,CAACG,IAAJ,CAASd,QADP;AAEZD,UAAAA,SAAS,YAAKa,IAAI,CAACK,QAAL,KACZ,CADO,cACFL,IAAI,CAACM,OAAL,EADE,cACgBN,IAAI,CAACO,WAAL,EADhB,CAFG;AAIZC,UAAAA,MAAM,EAAE;AAJI,SAAd;AAMD,OAdH,EAeGC,KAfH,CAeSC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAfhB;AAgBD,KA1B0B;;AAAA,SA4B3BG,UA5B2B,GA4BdC,IAAI,IAAI;AACnB,YAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,YAAMC,OAAO,GAAG;AACdA,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEPC,UAAAA,aAAa,kBAAWJ,KAAX;AAFN;AADK,OAAhB;AAMApC,MAAAA,KAAK,CACFyC,KADH,WAEO7B,OAAO,CAACC,GAAR,CAAYC,wBAFnB,8BAGM,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAH9B,GAKI,IALJ,EAMIqB,OANJ,EAQGpB,IARH,CAQQC,GAAG,IAAI;AACX,aAAKK,QAAL,CAAc;AAAE,WAACU,IAAD,GAAQ,CAAC,KAAK/B,KAAL,CAAW+B,IAAX;AAAX,SAAd;AACD,OAVH,EAWGL,KAXH,CAWSC,GAAG,IAAIA,GAXhB;AAYD,KAhD0B;AAAA;;AAkD3BW,EAAAA,MAAM,GAAG;AAAA,sBACwB,KAAKtC,KAD7B;AAAA,QACDC,KADC,eACDA,KADC;AAAA,QACME,MADN,eACMA,MADN;AAAA,QACcD,KADd,eACcA,KADd;AAGP,WACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAGE;AAAS,MAAA,SAAS,EAAC,gCAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuB,KAAKF,KAAL,CAAWuC,KAAlC,CADF,CADF,CADF,CAHF,EAWE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAS,MAAA,SAAS,EAAC,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,SAAS,EAAC,wBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAIE;AAAM,MAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKvC,KAAL,CAAWI,SAAX,CAAqBoC,KAArB,CAA2B,CAA3B,EAA8B,EAA9B,CADH,CAJF,CADF,CADF,CADF,EAaE;AACE,MAAA,SAAS,EAAC,sBADZ;AAEE,MAAA,KAAK,EAAE;AAAEC,QAAAA,YAAY,EAAE;AAAhB,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIG5C,eAAe,CAAC,KAAKG,KAAL,CAAW0C,OAAZ,CAJlB,CAbF,EAmBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBF,EAqBE;AACE,MAAA,KAAK,EAAC,YADR;AAEE,MAAA,KAAK,EAAE;AACLC,QAAAA,cAAc,EAAE,eADX;AAELC,QAAAA,KAAK,EAAE,KAFF;AAGLC,QAAAA,MAAM,EAAE;AAHH,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQE;AACE,MAAA,KAAK,EAAC,oBADR;AAEE,MAAA,OAAO,EAAE,MAAM,KAAKf,UAAL,CAAgB,QAAhB,CAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIE;AAAM,MAAA,KAAK,EAAC,eAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,KAAK,EAAC,qBAAT;AAA+B,qBAAY,MAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAJF,CARF,EAgBE;AACE,MAAA,KAAK,EACH5B,KAAK,GACD,8BADC,GAED,mBAJR;AAME,oBAAW,SANb;AAOE,MAAA,OAAO,EAAE,MAAM,KAAK4B,UAAL,CAAgB,OAAhB,CAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OASE;AAAM,MAAA,KAAK,EAAC,eAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,KAAK,EAAC,aAAT;AAAuB,qBAAY,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CATF,CAhBF,EA6BE;AACE,MAAA,KAAK,EACH7B,KAAK,GACD,8BADC,GAED,mBAJR;AAME,oBAAW,MANb;AAOE,MAAA,OAAO,EAAE,MAAM,KAAK6B,UAAL,CAAgB,OAAhB,CAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OASE;AAAM,MAAA,KAAK,EAAC,eAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,KAAK,EAAC,kBAAT;AAA4B,qBAAY,MAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CATF,CA7BF,CArBF,EAgEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhEF,CADF,EAmEE,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAE,KAAK9B,KAAL,CAAWK,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnEF,CADF,CADF,CADF,CAXF,CADF;AAyFD;;AA9I0B;;AAiJ7B,eAAeN,IAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Navbar from \"./navbar\";\nimport axios from \"axios\";\nimport ReactHtmlParser from \"react-html-parser\";\nimport Comments from \"./comment/comments\";\n\nclass Blog extends Component {\n  state = {\n    liked: false,\n    saved: false,\n    shared: false,\n    post_date: \"\",\n    comments: []\n  };\n\n  componentDidMount = () => {\n    axios\n      .get(\n        `${process.env.REACT_APP_BACKEND_SERVER}/api/posts/${\n          this.props.match.params.id\n        }`\n      )\n      .then(res => {\n        const date = new Date(res.data.post_date_timestamp);\n        this.setState({\n          comments: res.data.comments,\n          post_date: `${date.getMonth() +\n            1}-${date.getDate()}-${date.getFullYear()}`,\n          loaded: true\n        });\n      })\n      .catch(err => console.log(err));\n  };\n\n  handleLike = type => {\n    const token = localStorage.getItem(\"token\");\n    const headers = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${token}`\n      }\n    };\n    axios\n      .patch(\n        `${process.env.REACT_APP_BACKEND_SERVER}/api/posts/likes/${\n          this.props.match.params.id\n        }`,\n        null,\n        headers\n      )\n      .then(res => {\n        this.setState({ [type]: !this.state[type] });\n      })\n      .catch(err => err);\n  };\n\n  render() {\n    let { liked, shared, saved } = this.state;\n\n    return (\n      <React.Fragment>\n        <Navbar />\n\n        <section className=\"hero is-info is-medium is-bold\">\n          <div className=\"hero-body\">\n            <div className=\"container has-text-centered\">\n              <h1 className=\"title\">{this.state.title}</h1>\n            </div>\n          </div>\n        </section>\n\n        <div className=\"container\">\n          <section className=\"articles\">\n            <div className=\"column is-10 is-offset-1\">\n              <div className=\"card article \">\n                <div className=\"card-content\">\n                  <div className=\"media\">\n                    <div className=\"media-content has-text-centered\">\n                      <div className=\"tags has-addons level-item\">\n                        <span className=\"tag is-rounded is-info\">\n                          DatePosted@\n                        </span>\n                        <span className=\"tag is-rounded\">\n                          {this.state.post_date.slice(0, 10)}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div\n                    className=\"content article-body\"\n                    style={{ marginBottom: \"10%\" }}\n                  >\n                    {ReactHtmlParser(this.state.content)}\n                  </div>\n                  <hr />\n\n                  <div\n                    class=\"level-left\"\n                    style={{\n                      justifyContent: \"space-between\",\n                      width: \"80%\",\n                      margin: \"3% auto 3% auto\"\n                    }}\n                  >\n                    <button\n                      class=\"level-item button \"\n                      onClick={() => this.handleLike(\"shared\")}\n                    >\n                      <span class=\"icon is-small\">\n                        <i class=\"far fa-share-square\" aria-hidden=\"true\" />\n                      </span>\n                    </button>\n                    <button\n                      class={\n                        saved\n                          ? \"level-item button is-success\"\n                          : \"level-item button\"\n                      }\n                      aria-label=\"retweet\"\n                      onClick={() => this.handleLike(\"saved\")}\n                    >\n                      <span class=\"icon is-small\">\n                        <i class=\"far fa-save\" aria-hidden=\"true\" />\n                      </span>\n                    </button>\n                    <button\n                      class={\n                        liked\n                          ? \"level-item button is-success\"\n                          : \"level-item button\"\n                      }\n                      aria-label=\"like\"\n                      onClick={() => this.handleLike(\"liked\")}\n                    >\n                      <span class=\"icon is-small\">\n                        <i class=\"far fa-thumbs-up\" aria-hidden=\"true\" />\n                      </span>\n                    </button>\n                  </div>\n                  <hr />\n                </div>\n                <Comments comments={this.state.comments} />\n              </div>\n            </div>\n          </section>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Blog;\n"]},"metadata":{},"sourceType":"module"}