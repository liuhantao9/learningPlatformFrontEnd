{"ast":null,"code":"/*!\n * froala_editor v3.0.0-rc.1 (https://www.froala.com/wysiwyg-editor)\n * License https://froala.com/wysiwyg-editor/terms/\n * Copyright 2014-2019 Froala Labs\n */\n!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? t(require(\"froala-editor\")) : \"function\" == typeof define && define.amd ? define([\"froala-editor\"], t) : t(e.FroalaEditor);\n}(this, function (m) {\n  \"use strict\";\n\n  m = m && m.hasOwnProperty(\"default\") ? m[\"default\"] : m, Object.assign(m.POPUP_TEMPLATES, {\n    \"link.edit\": \"[_BUTTONS_]\",\n    \"link.insert\": \"[_BUTTONS_][_INPUT_LAYER_]\"\n  }), Object.assign(m.DEFAULTS, {\n    linkEditButtons: [\"linkOpen\", \"linkStyle\", \"linkEdit\", \"linkRemove\"],\n    linkInsertButtons: [\"linkBack\", \"|\", \"linkList\"],\n    linkAttributes: {},\n    linkAutoPrefix: \"http://\",\n    linkStyles: {\n      \"fr-green\": \"Green\",\n      \"fr-strong\": \"Thick\"\n    },\n    linkMultipleStyles: !0,\n    linkConvertEmailAddress: !0,\n    linkAlwaysBlank: !1,\n    linkAlwaysNoFollow: !1,\n    linkNoOpener: !0,\n    linkNoReferrer: !0,\n    linkList: [{\n      text: \"Froala\",\n      href: \"https://froala.com\",\n      target: \"_blank\"\n    }, {\n      text: \"Google\",\n      href: \"https://google.com\",\n      target: \"_blank\"\n    }, {\n      displayText: \"Facebook\",\n      href: \"https://facebook.com\"\n    }],\n    linkText: !0\n  }), m.PLUGINS.link = function (c) {\n    var d = c.$;\n\n    function u() {\n      var e = c.image ? c.image.get() : null;\n\n      if (!e && c.$wp) {\n        var t = c.selection.ranges(0).commonAncestorContainer;\n\n        try {\n          t && (t.contains && t.contains(c.el) || !c.el.contains(t) || c.el == t) && (t = null);\n        } catch (r) {\n          t = null;\n        }\n\n        if (t && \"A\" === t.tagName) return t;\n        var n = c.selection.element(),\n            i = c.selection.endElement();\n        \"A\" == n.tagName || c.node.isElement(n) || (n = d(n).parentsUntil(c.$el, \"a\").first().get(0)), \"A\" == i.tagName || c.node.isElement(i) || (i = d(i).parentsUntil(c.$el, \"a\").first().get(0));\n\n        try {\n          i && (i.contains && i.contains(c.el) || !c.el.contains(i) || c.el == i) && (i = null);\n        } catch (r) {\n          i = null;\n        }\n\n        try {\n          n && (n.contains && n.contains(c.el) || !c.el.contains(n) || c.el == n) && (n = null);\n        } catch (r) {\n          n = null;\n        }\n\n        return i && i == n && \"A\" == i.tagName ? (c.browser.msie || c.helpers.isMobile()) && (c.selection.info(n).atEnd || c.selection.info(n).atStart) ? null : n : null;\n      }\n\n      return \"A\" == c.el.tagName ? c.el : e && e.get(0).parentNode && \"A\" == e.get(0).parentNode.tagName ? e.get(0).parentNode : void 0;\n    }\n\n    function k() {\n      var e,\n          t,\n          n,\n          i,\n          r = c.image ? c.image.get() : null,\n          l = [];\n      if (r) \"A\" == r.get(0).parentNode.tagName && l.push(r.get(0).parentNode);else if (c.win.getSelection) {\n        var a = c.win.getSelection();\n\n        if (a.getRangeAt && a.rangeCount) {\n          i = c.doc.createRange();\n\n          for (var s = 0; s < a.rangeCount; ++s) {\n            if ((t = (e = a.getRangeAt(s)).commonAncestorContainer) && 1 != t.nodeType && (t = t.parentNode), t && \"a\" == t.nodeName.toLowerCase()) l.push(t);else {\n              n = t.getElementsByTagName(\"a\");\n\n              for (var o = 0; o < n.length; ++o) {\n                i.selectNodeContents(n[o]), i.compareBoundaryPoints(e.END_TO_START, e) < 1 && -1 < i.compareBoundaryPoints(e.START_TO_END, e) && l.push(n[o]);\n              }\n            }\n          }\n        }\n      } else if (c.doc.selection && \"Control\" != c.doc.selection.type) if (\"a\" == (t = (e = c.doc.selection.createRange()).parentElement()).nodeName.toLowerCase()) l.push(t);else {\n        n = t.getElementsByTagName(\"a\"), i = c.doc.body.createTextRange();\n\n        for (var p = 0; p < n.length; ++p) {\n          i.moveToElementText(n[p]), -1 < i.compareEndPoints(\"StartToEnd\", e) && i.compareEndPoints(\"EndToStart\", e) < 1 && l.push(n[p]);\n        }\n      }\n      return l;\n    }\n\n    function g(r) {\n      if (c.core.hasFocus()) {\n        if (a(), r && \"keyup\" === r.type && (r.altKey || r.which == m.KEYCODE.ALT)) return !0;\n        setTimeout(function () {\n          if (!r || r && (1 == r.which || \"mouseup\" != r.type)) {\n            var e = u(),\n                t = c.image ? c.image.get() : null;\n\n            if (e && !t) {\n              if (c.image) {\n                var n = c.node.contents(e);\n\n                if (1 == n.length && \"IMG\" == n[0].tagName) {\n                  var i = c.selection.ranges(0);\n                  return 0 === i.startOffset && 0 === i.endOffset ? d(e).before(m.MARKERS) : d(e).after(m.MARKERS), c.selection.restore(), !1;\n                }\n              }\n\n              r && r.stopPropagation(), l(e);\n            }\n          }\n        }, c.helpers.isIOS() ? 100 : 0);\n      }\n    }\n\n    function l(e) {\n      var t = c.popups.get(\"link.edit\");\n      t || (t = function () {\n        var e = \"\";\n        1 <= c.opts.linkEditButtons.length && (\"A\" == c.el.tagName && 0 <= c.opts.linkEditButtons.indexOf(\"linkRemove\") && c.opts.linkEditButtons.splice(c.opts.linkEditButtons.indexOf(\"linkRemove\"), 1), e = '<div class=\"fr-buttons\">'.concat(c.button.buildList(c.opts.linkEditButtons), \"</div>\"));\n        var t = {\n          buttons: e\n        },\n            n = c.popups.create(\"link.edit\", t);\n        c.$wp && c.events.$on(c.$wp, \"scroll.link-edit\", function () {\n          u() && c.popups.isVisible(\"link.edit\") && l(u());\n        });\n        return n;\n      }());\n      var n = d(e);\n      c.popups.isVisible(\"link.edit\") || c.popups.refresh(\"link.edit\"), c.popups.setContainer(\"link.edit\", c.$sc);\n      var i = n.offset().left + n.outerWidth() / 2,\n          r = n.offset().top + n.outerHeight();\n      c.popups.show(\"link.edit\", i, r, n.outerHeight(), !0);\n    }\n\n    function a() {\n      c.popups.hide(\"link.edit\");\n    }\n\n    function o() {\n      var e = c.popups.get(\"link.insert\"),\n          t = u();\n\n      if (t) {\n        var n,\n            i,\n            r = d(t),\n            l = e.find('input.fr-link-attr[type=\"text\"]'),\n            a = e.find('input.fr-link-attr[type=\"checkbox\"]');\n\n        for (n = 0; n < l.length; n++) {\n          (i = d(l[n])).val(r.attr(i.attr(\"name\") || \"\"));\n        }\n\n        for (a.attr(\"checked\", !1), n = 0; n < a.length; n++) {\n          i = d(a[n]), r.attr(i.attr(\"name\")) == i.data(\"checked\") && i.attr(\"checked\", !0);\n        }\n\n        e.find('input.fr-link-attr[type=\"text\"][name=\"text\"]').val(r.text());\n      } else e.find('input.fr-link-attr[type=\"text\"]').val(\"\"), e.find('input.fr-link-attr[type=\"checkbox\"]').attr(\"checked\", !1), e.find('input.fr-link-attr[type=\"text\"][name=\"text\"]').val(c.selection.text());\n\n      e.find(\"input.fr-link-attr\").trigger(\"change\"), (c.image ? c.image.get() : null) ? e.find('.fr-link-attr[name=\"text\"]').parent().hide() : e.find('.fr-link-attr[name=\"text\"]').parent().show();\n    }\n\n    function s(e) {\n      if (e) return c.popups.onRefresh(\"link.insert\", o), !0;\n      var t = \"\";\n      1 <= c.opts.linkInsertButtons.length && (t = '<div class=\"fr-buttons fr-tabs\">' + c.button.buildList(c.opts.linkInsertButtons) + \"</div>\");\n      var n = \"\",\n          i = 0;\n\n      for (var r in n = '<div class=\"fr-link-insert-layer fr-layer fr-active\" id=\"fr-link-insert-layer-' + c.id + '\">', n += '<div class=\"fr-input-line\"><input id=\"fr-link-insert-layer-url-' + c.id + '\" name=\"href\" type=\"text\" class=\"fr-link-attr\" placeholder=\"' + c.language.translate(\"URL\") + '\" tabIndex=\"' + ++i + '\"></div>', c.opts.linkText && (n += '<div class=\"fr-input-line\"><input id=\"fr-link-insert-layer-text-' + c.id + '\" name=\"text\" type=\"text\" class=\"fr-link-attr\" placeholder=\"' + c.language.translate(\"Text\") + '\" tabIndex=\"' + ++i + '\"></div>'), c.opts.linkAttributes) {\n        if (c.opts.linkAttributes.hasOwnProperty(r)) {\n          var l = c.opts.linkAttributes[r];\n          n += '<div class=\"fr-input-line\"><input name=\"' + r + '\" type=\"text\" class=\"fr-link-attr\" placeholder=\"' + c.language.translate(l) + '\" tabIndex=\"' + ++i + '\"></div>';\n        }\n      }\n\n      c.opts.linkAlwaysBlank || (n += '<div class=\"fr-checkbox-line\"><span class=\"fr-checkbox\"><input name=\"target\" class=\"fr-link-attr\" data-checked=\"_blank\" type=\"checkbox\" id=\"fr-link-target-'.concat(c.id, '\" tabIndex=\"').concat(++i, '\"><span>').concat('<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"10\" height=\"10\" viewBox=\"0 0 32 32\"><path d=\"M27 4l-15 15-7-7-5 5 12 12 20-20z\" fill=\"#FFF\"></path></svg>', '</span></span><label id=\"fr-label-target-').concat(c.id, '\">').concat(c.language.translate(\"Open in new tab\"), \"</label></div>\"));\n      var a = {\n        buttons: t,\n        input_layer: n += '<div class=\"fr-action-buttons\"><button class=\"fr-command fr-submit\" role=\"button\" data-cmd=\"linkInsert\" href=\"#\" tabIndex=\"' + ++i + '\" type=\"button\">' + c.language.translate(\"Insert\") + \"</button></div></div>\"\n      },\n          s = c.popups.create(\"link.insert\", a);\n      return c.$wp && c.events.$on(c.$wp, \"scroll.link-insert\", function () {\n        (c.image ? c.image.get() : null) && c.popups.isVisible(\"link.insert\") && h(), c.popups.isVisible(\"link.insert\") && f();\n      }), s;\n    }\n\n    function p(e, t, n) {\n      if (void 0 === n && (n = {}), !1 === c.events.trigger(\"link.beforeInsert\", [e, t, n])) return !1;\n      var i = c.image ? c.image.get() : null;\n      i || \"A\" == c.el.tagName ? \"A\" == c.el.tagName && c.$el.focus() : (c.selection.restore(), c.popups.hide(\"link.insert\"));\n      var r = e;\n      c.opts.linkConvertEmailAddress && c.helpers.isEmail(e) && !/^mailto:.*/i.test(e) && (e = \"mailto:\" + e);\n      if (\"\" === c.opts.linkAutoPrefix || new RegExp(\"^(\" + m.LinkProtocols.join(\"|\") + \"):.\", \"i\").test(e) || /^data:image.*/i.test(e) || /^(https?:|ftps?:|file:|)\\/\\//i.test(e) || /^([A-Za-z]:(\\\\){1,2}|[A-Za-z]:((\\\\){1,2}[^\\\\]+)+)(\\\\)?$/i.test(e) || [\"/\", \"{\", \"[\", \"#\", \"(\", \".\"].indexOf((e || \"\")[0]) < 0 && (e = c.opts.linkAutoPrefix + c.helpers.sanitizeURL(e)), e = c.helpers.sanitizeURL(e), c.opts.linkAlwaysBlank && (n.target = \"_blank\"), c.opts.linkAlwaysNoFollow && (n.rel = \"nofollow\"), c.helpers.isEmail(r) && (n.target = null, n.rel = null), \"_blank\" == n.target ? (c.opts.linkNoOpener && (n.rel ? n.rel += \" noopener\" : n.rel = \"noopener\"), c.opts.linkNoReferrer && (n.rel ? n.rel += \" noreferrer\" : n.rel = \"noreferrer\")) : null == n.target && (n.rel ? n.rel = n.rel.replace(/noopener/, \"\").replace(/noreferrer/, \"\") : n.rel = null), t = t || \"\", e === c.opts.linkAutoPrefix) return c.popups.get(\"link.insert\").find('input[name=\"href\"]').addClass(\"fr-error\"), c.events.trigger(\"link.bad\", [r]), !1;\n      var l,\n          a = u();\n\n      if (a) {\n        if ((l = d(a)).attr(\"href\", e), 0 < t.length && l.text() != t && !i) {\n          for (var s = l.get(0); 1 === s.childNodes.length && s.childNodes[0].nodeType == Node.ELEMENT_NODE;) {\n            s = s.childNodes[0];\n          }\n\n          d(s).text(t);\n        }\n\n        i || l.prepend(m.START_MARKER).append(m.END_MARKER), l.attr(n), i || c.selection.restore();\n      } else {\n        i ? i.wrap('<a href=\"' + e + '\"></a>') : (c.format.remove(\"a\"), c.selection.isCollapsed() ? (t = 0 === t.length ? r : t, c.html.insert('<a href=\"' + e + '\">' + m.START_MARKER + t.replace(/&/g, \"&amp;\").replace(/</, \"&lt;\", \">\", \"&gt;\") + m.END_MARKER + \"</a>\"), c.selection.restore()) : 0 < t.length && t != c.selection.text().replace(/\\n/g, \"\") ? (c.selection.remove(), c.html.insert('<a href=\"' + e + '\">' + m.START_MARKER + t.replace(/&/g, \"&amp;\") + m.END_MARKER + \"</a>\"), c.selection.restore()) : (!function () {\n          if (!c.selection.isCollapsed()) {\n            c.selection.save();\n\n            for (var e = c.$el.find(\".fr-marker\").addClass(\"fr-unprocessed\").toArray(); e.length;) {\n              var t = d(e.pop());\n              t.removeClass(\"fr-unprocessed\");\n              var n = c.node.deepestParent(t.get(0));\n\n              if (n) {\n                for (var i = t.get(0), r = \"\", l = \"\"; i = i.parentNode, c.node.isBlock(i) || (r += c.node.closeTagString(i), l = c.node.openTagString(i) + l), i != n;) {\n                  ;\n                }\n\n                var a = c.node.openTagString(t.get(0)) + t.html() + c.node.closeTagString(t.get(0));\n                t.replaceWith('<span id=\"fr-break\"></span>');\n                var s = n.outerHTML;\n                s = (s = s.replace(/<span id=\"fr-break\"><\\/span>/g, r + a + l)).replace(l + r, \"\"), n.outerHTML = s;\n              }\n\n              e = c.$el.find(\".fr-marker.fr-unprocessed\").toArray();\n            }\n\n            c.html.cleanEmptyTags(), c.selection.restore();\n          }\n        }(), c.format.apply(\"a\", {\n          href: e\n        })));\n\n        for (var o = k(), p = 0; p < o.length; p++) {\n          (l = d(o[p])).attr(n), l.removeAttr(\"_moz_dirty\");\n        }\n\n        1 == o.length && c.$wp && !i && (d(o[0]).prepend(m.START_MARKER).append(m.END_MARKER), c.selection.restore());\n      }\n\n      if (i) {\n        var f = c.popups.get(\"link.insert\");\n        f && f.find(\"input:focus\").blur(), c.image.edit(i);\n      } else g();\n    }\n\n    function f() {\n      a();\n      var e = u();\n\n      if (e) {\n        var t = c.popups.get(\"link.insert\");\n        t || (t = s()), c.popups.isVisible(\"link.insert\") || (c.popups.refresh(\"link.insert\"), c.selection.save(), c.helpers.isMobile() && (c.events.disableBlur(), c.$el.blur(), c.events.enableBlur())), c.popups.setContainer(\"link.insert\", c.$sc);\n        var n = (c.image ? c.image.get() : null) || d(e),\n            i = n.offset().left + n.outerWidth() / 2,\n            r = n.offset().top + n.outerHeight();\n        c.popups.show(\"link.insert\", i, r, n.outerHeight(), !0);\n      }\n    }\n\n    function h() {\n      var e = c.image ? c.image.getEl() : null;\n\n      if (e) {\n        var t = c.popups.get(\"link.insert\");\n        c.image.hasCaption() && (e = e.find(\".fr-img-wrap\")), t || (t = s()), o(), c.popups.setContainer(\"link.insert\", c.$sc);\n        var n = e.offset().left + e.outerWidth() / 2,\n            i = e.offset().top + e.outerHeight();\n        c.popups.show(\"link.insert\", n, i, e.outerHeight(), !0);\n      }\n    }\n\n    return {\n      _init: function _init() {\n        c.events.on(\"keyup\", function (e) {\n          e.which != m.KEYCODE.ESC && g(e);\n        }), c.events.on(\"window.mouseup\", g), c.events.$on(c.$el, \"click\", \"a\", function (e) {\n          c.edit.isDisabled() && e.preventDefault();\n        }), c.helpers.isMobile() && c.events.$on(c.$doc, \"selectionchange\", g), s(!0), \"A\" == c.el.tagName && c.$el.addClass(\"fr-view\"), c.events.on(\"toolbar.esc\", function () {\n          if (c.popups.isVisible(\"link.edit\")) return c.events.disableBlur(), c.events.focus(), !1;\n        }, !0);\n      },\n      remove: function remove() {\n        var e = u(),\n            t = c.image ? c.image.get() : null;\n        if (!1 === c.events.trigger(\"link.beforeRemove\", [e])) return !1;\n        t && e ? (t.unwrap(), c.image.edit(t)) : e && (c.selection.save(), d(e).replaceWith(d(e).html()), c.selection.restore(), a());\n      },\n      showInsertPopup: function showInsertPopup() {\n        var e = c.$tb.find('.fr-command[data-cmd=\"insertLink\"]'),\n            t = c.popups.get(\"link.insert\");\n        if (t || (t = s()), !t.hasClass(\"fr-active\")) if (c.popups.refresh(\"link.insert\"), c.popups.setContainer(\"link.insert\", c.$tb || c.$sc), e.isVisible()) {\n          var n = c.button.getPosition(e),\n              i = n.left,\n              r = n.top;\n          c.popups.show(\"link.insert\", i, r, e.outerHeight());\n        } else c.position.forSelection(t), c.popups.show(\"link.insert\");\n      },\n      usePredefined: function usePredefined(e) {\n        var t,\n            n,\n            i = c.opts.linkList[e],\n            r = c.popups.get(\"link.insert\"),\n            l = r.find('input.fr-link-attr[type=\"text\"]'),\n            a = r.find('input.fr-link-attr[type=\"checkbox\"]');\n\n        for (n = 0; n < l.length; n++) {\n          i[(t = d(l[n])).attr(\"name\")] ? (t.val(i[t.attr(\"name\")]), t.toggleClass(\"fr-not-empty\", !0)) : \"text\" != t.attr(\"name\") && t.val(\"\");\n        }\n\n        for (n = 0; n < a.length; n++) {\n          (t = d(a[n])).attr(\"checked\", t.data(\"checked\") == i[t.attr(\"name\")]);\n        }\n\n        c.accessibility.focusPopup(r);\n      },\n      insertCallback: function insertCallback() {\n        var e,\n            t,\n            n = c.popups.get(\"link.insert\"),\n            i = n.find('input.fr-link-attr[type=\"text\"]'),\n            r = n.find('input.fr-link-attr[type=\"checkbox\"]'),\n            l = (i.filter('[name=\"href\"]').val() || \"\").trim(),\n            a = i.filter('[name=\"text\"]').val(),\n            s = {};\n\n        for (t = 0; t < i.length; t++) {\n          e = d(i[t]), [\"href\", \"text\"].indexOf(e.attr(\"name\")) < 0 && (s[e.attr(\"name\")] = e.val());\n        }\n\n        for (t = 0; t < r.length; t++) {\n          (e = d(r[t])).is(\":checked\") ? s[e.attr(\"name\")] = e.data(\"checked\") : s[e.attr(\"name\")] = e.data(\"unchecked\") || null;\n        }\n\n        var o = c.helpers.scrollTop();\n        p(l, a, s), d(c.o_win).scrollTop(o);\n      },\n      insert: p,\n      update: f,\n      get: u,\n      allSelected: k,\n      back: function back() {\n        c.image && c.image.get() ? c.image.back() : (c.events.disableBlur(), c.selection.restore(), c.events.enableBlur(), u() && c.$wp ? (c.selection.restore(), a(), g()) : \"A\" == c.el.tagName ? (c.$el.focus(), g()) : (c.popups.hide(\"link.insert\"), c.toolbar.showInline()));\n      },\n      imageLink: h,\n      applyStyle: function applyStyle(e, t, n) {\n        void 0 === n && (n = c.opts.linkMultipleStyles), void 0 === t && (t = c.opts.linkStyles);\n        var i = u();\n        if (!i) return !1;\n\n        if (!n) {\n          var r = Object.keys(t);\n          r.splice(r.indexOf(e), 1), d(i).removeClass(r.join(\" \"));\n        }\n\n        d(i).toggleClass(e), g();\n      }\n    };\n  }, m.DefineIcon(\"insertLink\", {\n    NAME: \"link\",\n    SVG_KEY: \"insertLink\"\n  }), m.RegisterShortcut(m.KEYCODE.K, \"insertLink\", null, \"K\"), m.RegisterCommand(\"insertLink\", {\n    title: \"Insert Link\",\n    undo: !1,\n    focus: !0,\n    refreshOnCallback: !1,\n    popup: !0,\n    callback: function callback() {\n      this.popups.isVisible(\"link.insert\") ? (this.$el.find(\".fr-marker\").length && (this.events.disableBlur(), this.selection.restore()), this.popups.hide(\"link.insert\")) : this.link.showInsertPopup();\n    },\n    plugin: \"link\"\n  }), m.DefineIcon(\"linkOpen\", {\n    NAME: \"external-link\",\n    FA5NAME: \"external-link-alt\",\n    SVG_KEY: \"openLink\"\n  }), m.RegisterCommand(\"linkOpen\", {\n    title: \"Open Link\",\n    undo: !1,\n    refresh: function refresh(e) {\n      this.link.get() ? e.removeClass(\"fr-hidden\") : e.addClass(\"fr-hidden\");\n    },\n    callback: function callback() {\n      var e = this.link.get();\n      e && (-1 !== e.href.indexOf(\"mailto:\") ? this.o_win.open(e.href).close() : this.o_win.open(e.href, \"_blank\", \"noopener\"), this.popups.hide(\"link.edit\"));\n    },\n    plugin: \"link\"\n  }), m.DefineIcon(\"linkEdit\", {\n    NAME: \"edit\",\n    SVG_KEY: \"editLink\"\n  }), m.RegisterCommand(\"linkEdit\", {\n    title: \"Edit Link\",\n    undo: !1,\n    refreshAfterCallback: !1,\n    popup: !0,\n    callback: function callback() {\n      this.link.update();\n    },\n    refresh: function refresh(e) {\n      this.link.get() ? e.removeClass(\"fr-hidden\") : e.addClass(\"fr-hidden\");\n    },\n    plugin: \"link\"\n  }), m.DefineIcon(\"linkRemove\", {\n    NAME: \"unlink\",\n    SVG_KEY: \"unlink\"\n  }), m.RegisterCommand(\"linkRemove\", {\n    title: \"Unlink\",\n    callback: function callback() {\n      this.link.remove();\n    },\n    refresh: function refresh(e) {\n      this.link.get() ? e.removeClass(\"fr-hidden\") : e.addClass(\"fr-hidden\");\n    },\n    plugin: \"link\"\n  }), m.DefineIcon(\"linkBack\", {\n    NAME: \"arrow-left\",\n    SVG_KEY: \"back\"\n  }), m.RegisterCommand(\"linkBack\", {\n    title: \"Back\",\n    undo: !1,\n    focus: !1,\n    back: !0,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.link.back();\n    },\n    refresh: function refresh(e) {\n      var t = this.link.get() && this.doc.hasFocus();\n      (this.image ? this.image.get() : null) || t || this.opts.toolbarInline ? (e.removeClass(\"fr-hidden\"), e.next(\".fr-separator\").removeClass(\"fr-hidden\")) : (e.addClass(\"fr-hidden\"), e.next(\".fr-separator\").addClass(\"fr-hidden\"));\n    },\n    plugin: \"link\"\n  }), m.DefineIcon(\"linkList\", {\n    NAME: \"search\",\n    SVG_KEY: \"search\"\n  }), m.RegisterCommand(\"linkList\", {\n    title: \"Choose Link\",\n    type: \"dropdown\",\n    focus: !1,\n    undo: !1,\n    refreshAfterCallback: !1,\n    html: function html() {\n      for (var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">', t = this.opts.linkList, n = 0; n < t.length; n++) {\n        e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"linkList\" data-param1=\"' + n + '\">' + (t[n].displayText || t[n].text) + \"</a></li>\";\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.link.usePredefined(t);\n    },\n    plugin: \"link\"\n  }), m.RegisterCommand(\"linkInsert\", {\n    focus: !1,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.link.insertCallback();\n    },\n    refresh: function refresh(e) {\n      this.link.get() ? e.text(this.language.translate(\"Update\")) : e.text(this.language.translate(\"Insert\"));\n    },\n    plugin: \"link\"\n  }), m.DefineIcon(\"imageLink\", {\n    NAME: \"link\",\n    SVG_KEY: \"insertLink\"\n  }), m.RegisterCommand(\"imageLink\", {\n    title: \"Insert Link\",\n    undo: !1,\n    focus: !1,\n    popup: !0,\n    callback: function callback() {\n      this.link.imageLink();\n    },\n    refresh: function refresh(e) {\n      var t;\n      this.link.get() ? ((t = e.prev()).hasClass(\"fr-separator\") && t.removeClass(\"fr-hidden\"), e.addClass(\"fr-hidden\")) : ((t = e.prev()).hasClass(\"fr-separator\") && t.addClass(\"fr-hidden\"), e.removeClass(\"fr-hidden\"));\n    },\n    plugin: \"link\"\n  }), m.DefineIcon(\"linkStyle\", {\n    NAME: \"magic\",\n    SVG_KEY: \"linkStyles\"\n  }), m.RegisterCommand(\"linkStyle\", {\n    title: \"Style\",\n    type: \"dropdown\",\n    html: function html() {\n      var e = '<ul class=\"fr-dropdown-list\" role=\"presentation\">',\n          t = this.opts.linkStyles;\n\n      for (var n in t) {\n        t.hasOwnProperty(n) && (e += '<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"linkStyle\" data-param1=\"' + n + '\">' + this.language.translate(t[n]) + \"</a></li>\");\n      }\n\n      return e += \"</ul>\";\n    },\n    callback: function callback(e, t) {\n      this.link.applyStyle(t);\n    },\n    refreshOnShow: function refreshOnShow(e, t) {\n      var n = this.$,\n          i = this.link.get();\n\n      if (i) {\n        var r = n(i);\n        t.find(\".fr-command\").each(function () {\n          var e = n(this).data(\"param1\"),\n              t = r.hasClass(e);\n          n(this).toggleClass(\"fr-active\", t).attr(\"aria-selected\", t);\n        });\n      }\n    },\n    refresh: function refresh(e) {\n      this.link.get() ? e.removeClass(\"fr-hidden\") : e.addClass(\"fr-hidden\");\n    },\n    plugin: \"link\"\n  });\n});","map":null,"metadata":{},"sourceType":"script"}