{"ast":null,"code":"/*!\n * froala_editor v3.0.0-rc.1 (https://www.froala.com/wysiwyg-editor)\n * License https://froala.com/wysiwyg-editor/terms/\n * Copyright 2014-2019 Froala Labs\n */\n!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? t(require(\"froala-editor\")) : \"function\" == typeof define && define.amd ? define([\"froala-editor\"], t) : t(e.FroalaEditor);\n}(this, function (e) {\n  \"use strict\";\n\n  e = e && e.hasOwnProperty(\"default\") ? e[\"default\"] : e, Object.assign(e.DEFAULTS, {\n    saveInterval: 1e4,\n    saveURL: null,\n    saveParams: {},\n    saveParam: \"body\",\n    saveMethod: \"POST\"\n  }), e.PLUGINS.save = function (i) {\n    var v = i.$,\n        e = null,\n        f = null,\n        t = !1,\n        u = 1,\n        l = 2,\n        s = {};\n\n    function c(e, t) {\n      i.events.trigger(\"save.error\", [{\n        code: e,\n        message: s[e]\n      }, t]);\n    }\n\n    function a(e) {\n      void 0 === e && (e = i.html.get());\n      var a = e,\n          t = i.events.trigger(\"save.before\", [e]);\n      if (!1 === t) return !1;\n\n      if (\"string\" == typeof t && (e = t), i.opts.saveURL) {\n        var s = {};\n\n        for (var n in i.opts.saveParams) {\n          if (i.opts.saveParams.hasOwnProperty(n)) {\n            var o = i.opts.saveParams[n];\n            s[n] = \"function\" == typeof o ? o.call(this) : o;\n          }\n        }\n\n        var r = {};\n        r[i.opts.saveParam] = e, v(this).ajax({\n          method: i.opts.saveMethod,\n          url: i.opts.saveURL,\n          data: Object.assign(r, s),\n          crossDomain: i.opts.requestWithCORS,\n          withCredentials: i.opts.requestWithCredentials,\n          headers: i.opts.requestHeaders,\n          done: function done(e, t, s) {\n            f = a, i.events.trigger(\"save.after\", [e]);\n          },\n          fail: function fail(e) {\n            c(l, e.response || e.responseText);\n          }\n        });\n      } else c(u);\n    }\n\n    function n() {\n      clearTimeout(e), e = setTimeout(function () {\n        var e = i.html.get();\n        (f != e || t) && (t = !1, a(f = e));\n      }, i.opts.saveInterval);\n    }\n\n    return s[u] = \"Missing saveURL option.\", s[l] = \"Something went wrong during save.\", {\n      _init: function _init() {\n        i.opts.saveInterval && (f = i.html.get(), i.events.on(\"contentChanged\", n), i.events.on(\"keydown destroy\", function () {\n          clearTimeout(e);\n        }));\n      },\n      save: a,\n      reset: function reset() {\n        n(), t = !1;\n      },\n      force: function force() {\n        t = !0;\n      }\n    };\n  }, e.DefineIcon(\"save\", {\n    NAME: \"floppy-o\",\n    FA5NAME: \"save\"\n  }), e.RegisterCommand(\"save\", {\n    title: \"Save\",\n    undo: !1,\n    focus: !1,\n    refreshAfterCallback: !1,\n    callback: function callback() {\n      this.save.save();\n    },\n    plugin: \"save\"\n  });\n});","map":null,"metadata":{},"sourceType":"script"}